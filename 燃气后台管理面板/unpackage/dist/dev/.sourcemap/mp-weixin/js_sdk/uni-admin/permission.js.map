{"version":3,"file":"permission.js","sources":["js_sdk/uni-admin/permission.js"],"sourcesContent":["// #ifndef VUE3\r\nexport function initPermission(Vue) {\r\n\tVue.prototype.$hasPermission = function hasPermission(name) {\r\n\t\tconst permission = this.$uniIdPagesStore.store.userInfo.permission || []\r\n\t\tconst role = this.$uniIdPagesStore.store.userInfo.role || []\r\n\t\treturn role.indexOf('admin') > -1 || permission.indexOf(name) > -1\r\n\t}\r\n\tVue.prototype.$hasRole = function hasRole(name) {\r\n\t\tconst role = this.$uniIdPagesStore.store.userInfo.role || []\r\n\t\treturn role.indexOf(name) > -1\r\n\t}\r\n}\r\n// #endif\r\n\r\n// #ifdef VUE3\r\nexport function initPermission(app) {\r\n\tapp.config.globalProperties.$hasPermission = function hasPermission(name) {\r\n\t\tconst permission = this.$uniIdPagesStore.store.userInfo.permission || []\r\n\t\tconst role = this.$uniIdPagesStore.store.userInfo.role || []\r\n\t\treturn role.indexOf('admin') > -1 || permission.indexOf(name) > -1\r\n\t}\r\n\tapp.config.globalProperties.$hasRole = function hasRole(name) {\r\n\t\tconst role = this.$uniIdPagesStore.store.userInfo.role || []\r\n\t\treturn role.indexOf(name) > -1\r\n\t}\r\n}\r\n// #endif\r\n"],"names":[],"mappings":";AAeO,SAAS,eAAe,KAAK;AACnC,MAAI,OAAO,iBAAiB,iBAAiB,SAAS,cAAc,MAAM;AACzE,UAAM,aAAa,KAAK,iBAAiB,MAAM,SAAS,cAAc,CAAE;AACxE,UAAM,OAAO,KAAK,iBAAiB,MAAM,SAAS,QAAQ,CAAE;AAC5D,WAAO,KAAK,QAAQ,OAAO,IAAI,MAAM,WAAW,QAAQ,IAAI,IAAI;AAAA,EAChE;AACD,MAAI,OAAO,iBAAiB,WAAW,SAAS,QAAQ,MAAM;AAC7D,UAAM,OAAO,KAAK,iBAAiB,MAAM,SAAS,QAAQ,CAAE;AAC5D,WAAO,KAAK,QAAQ,IAAI,IAAI;AAAA,EAC5B;AACF;;"}