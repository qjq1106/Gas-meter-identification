{"version":3,"file":"limeClipper.js","sources":["uni_modules/uni-id-pages/pages/userinfo/cropImage/limeClipper/limeClipper.vue","../../../../微信开发者工具/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RTovdGVzdFByb2plY3RzL1dlQ2hhdFByb2plY3RzL3Rlc3RQcm9qZWN0LTIv54eD5rCU5ZCO5Y-w566h55CG6Z2i5p2_L3VuaV9tb2R1bGVzL3VuaS1pZC1wYWdlcy9wYWdlcy91c2VyaW5mby9jcm9wSW1hZ2UvbGltZUNsaXBwZXIvbGltZUNsaXBwZXIudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"l-clipper\" :class=\"{open: value}\" disable-scroll :style=\"'z-index: ' + zIndex + ';' + customStyle\">\r\n\t\t<view class=\"l-clipper-mask\" @touchstart.stop.prevent=\"clipTouchStart\" @touchmove.stop.prevent=\"clipTouchMove\" @touchend.stop.prevent=\"clipTouchEnd\">\r\n\t\t\t<view class=\"l-clipper__content\" :style=\"clipStyle\"><view class=\"l-clipper__edge\" v-for=\"(item, index) in [0, 0, 0, 0]\" :key=\"index\"></view></view>\r\n\t\t</view>\r\n\t\t<image\r\n\t\t\tclass=\"l-clipper-image\"\r\n\t\t\t@error=\"imageLoad\"\r\n\t\t\t@load=\"imageLoad\"\r\n\t\t\t@touchstart.stop.prevent=\"imageTouchStart\"\r\n\t\t\t@touchmove.stop.prevent=\"imageTouchMove\"\r\n\t\t\t@touchend.stop.prevent=\"imageTouchEnd\"\r\n\t\t\t:src=\"image\"\r\n\t\t\t:mode=\"imageWidth == 'auto' ? 'widthFix' : ''\"\r\n\t\t\tv-if=\"image\"\r\n\t\t\t:style=\"imageStyle\"\r\n\t\t/>\r\n\t\t<canvas\r\n\t\t\t:canvas-id=\"canvasId\"\r\n\t\t\tid=\"l-clipper\"\r\n\t\t\tdisable-scroll\r\n\t\t\t:style=\"'width: ' + canvasWidth * scaleRatio + 'px; height:' + canvasHeight * scaleRatio + 'px;'\"\r\n\t\t\tclass=\"l-clipper-canvas\"\r\n\t\t></canvas>\r\n\t\t<view class=\"l-clipper-tools\">\r\n\t\t\t<view class=\"l-clipper-tools__btns\">\r\n\t\t\t\t<view v-if=\"isShowCancelBtn\" @tap=\"cancel\">\r\n\t\t\t\t\t<slot name=\"cancel\" v-if=\"$slots.cancel\" />\r\n\t\t\t\t\t<view v-else class=\"cancel\">取消</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"isShowPhotoBtn\" @tap=\"uploadImage\">\r\n\t\t\t\t\t<slot name=\"photo\" v-if=\"$slots.photo\" />\r\n\t\t\t\t\t<image v-else src=\"./images/photo.svg\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"isShowRotateBtn\" @tap=\"rotate\">\r\n\t\t\t\t\t<slot name=\"rotate\" v-if=\"$slots.rotate\" />\r\n\t\t\t\t\t<image v-else src=\"./images/rotate.svg\" data-type=\"inverse\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"isShowConfirmBtn\" @tap=\"confirm\">\r\n\t\t\t\t\t<slot name=\"confirm\" v-if=\"$slots.confirm\" />\r\n\t\t\t\t\t<view v-else class=\"confirm\">确定</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<slot></slot>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport { determineDirection, calcImageOffset, calcImageScale, calcImageSize, calcPythagoreanTheorem, clipTouchMoveOfCalculate, imageTouchMoveOfCalcOffset } from './utils';\r\nconst cache = {}\r\nexport default {\r\n\t// version: '0.6.3',\r\n\tname: 'l-clipper',\r\n\tprops: {\r\n\t\tvalue: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t\t// #ifdef MP-WEIXIN\r\n\t\ttype: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '2d'\r\n\t\t},\r\n\t\t// #endif\r\n\t\tcustomStyle: {\r\n\t\t\ttype: String,\r\n\t\t},\r\n\t\tcanvasId: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'l-clipper'\r\n\t\t},\r\n\t\tzIndex: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 99\r\n\t\t},\r\n\t\timageUrl: {\r\n\t\t\ttype: String\r\n\t\t},\r\n\t\tfileType: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'png'\r\n\t\t},\r\n\t\tquality: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 1\r\n\t\t},\r\n\t\twidth: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 400\r\n\t\t},\r\n\t\theight: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 400\r\n\t\t},\r\n\t\tminWidth: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 200\r\n\t\t},\r\n\t\tmaxWidth: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 600\r\n\t\t},\r\n\t\tminHeight: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 200\r\n\t\t},\r\n\t\tmaxHeight: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 600\r\n\t\t},\r\n\t\tisLockWidth: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tisLockHeight: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tisLockRatio: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t\tscaleRatio: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 1\r\n\t\t},\r\n\t\tminRatio: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 0.5\r\n\t\t},\r\n\t\tmaxRatio: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 2\r\n\t\t},\r\n\t\tisDisableScale: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tisDisableRotate: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tisLimitMove: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tisShowPhotoBtn: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t\tisShowRotateBtn: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t\tisShowConfirmBtn: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t\tisShowCancelBtn: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t\trotateAngle: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 90\r\n\t\t},\r\n\t\tsource: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => ({\r\n\t\t\t\t\talbum: '从相册中选择',\r\n\t\t\t\t\tcamera: '拍照',\r\n\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\tmessage: '从微信中选择'\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t})\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcanvasWidth: 0,\r\n\t\t\tcanvasHeight: 0,\r\n\t\t\tclipX: 0,\r\n\t\t\tclipY: 0,\r\n\t\t\tclipWidth: 0,\r\n\t\t\tclipHeight: 0,\r\n\t\t\tanimation: false,\r\n\t\t\timageWidth: 0,\r\n\t\t\timageHeight: 0,\r\n\t\t\timageTop: 0,\r\n\t\t\timageLeft: 0,\r\n\t\t\tscale: 1,\r\n\t\t\tangle: 0,\r\n\t\t\timage: this.imageUrl,\r\n\t\t\tsysinfo: {},\r\n\t\t\tthrottleTimer: null,\r\n\t\t\tthrottleFlag: true,\r\n\t\t\ttimeClipCenter: null,\r\n\t\t\tflagClipTouch: false,\r\n\t\t\tflagEndTouch: false,\r\n\t\t\tclipStart: {},\r\n\t\t\tanimationTimer: null,\r\n\t\t\ttouchRelative: [{x: 0,y: 0}],\r\n\t\t\thypotenuseLength: 0,\r\n\t\t\tctx: null\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tclipStyle() {\r\n\t\t\tconst {clipWidth, clipHeight, clipY, clipX, animation} = this\r\n\t\t\treturn  `\r\n\t\t\twidth: ${clipWidth}px;\r\n\t\t\theight:${clipHeight}px;\r\n\t\t\ttransition-property: ${animation ? '' : 'background'};\r\n\t\t\tleft: ${clipX}px;\r\n\t\t\ttop: ${clipY}px\r\n\t\t\t`\r\n\t\t},\r\n\t\timageStyle() {\r\n\t\t\tconst {imageWidth, imageHeight, imageLeft, imageTop, animation, scale, angle} = this\r\n\t\t\treturn `\r\n\t\t\t\twidth: ${imageWidth ? imageWidth + 'px' : 'auto'};\r\n\t\t\t\theight: ${imageHeight ? imageHeight + 'px' : 'auto'};\r\n\t\t\t\ttransform: translate3d(${imageLeft - imageWidth / 2}px, ${imageTop - imageHeight / 2}px, 0) scale(${scale}) rotate(${angle}deg);\r\n\t\t\t\ttransition-duration: ${animation ? 0.35 : 0}s\r\n\t\t\t`\r\n\t\t},\r\n\t\tclipSize() {\r\n\t\t\tconst { clipWidth, clipHeight } = this;\r\n\t\t\treturn { clipWidth, clipHeight };\r\n\t\t},\r\n\t\tclipPoint() {\r\n\t\t\tconst { clipY, clipX } = this;\r\n\t\t\treturn { clipY, clipX };\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tvalue(val) {\r\n\t\t\tif(!val) {\r\n\t\t\t\tthis.animation = 0\r\n\t\t\t\tthis.angle = 0\r\n\t\t\t} else {\r\n\t\t\t\tif(this.imageUrl) {\r\n\t\t\t\t\tconst {imageWidth, imageHeight, imageLeft, imageTop, scale, clipX, clipY, clipWidth, clipHeight, path} = cache?.[this.imageUrl] || {}\r\n\t\t\t\t\tif(path != this.image) {\r\n\t\t\t\t\t\tthis.image = this.imageUrl;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.setDiffData({imageWidth, imageHeight, imageLeft, imageTop, scale, clipX, clipY, clipWidth, clipHeight})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\timageUrl(url) {\r\n\t\t\tthis.image = url\r\n\t\t},\r\n\t\timage:{\r\n\t\t\thandler: async function(url) {\r\n\t\t\t\tthis.getImageInfo(url)\r\n\t\t\t},\r\n\t\t\t// immediate: true,\r\n\t\t},\r\n\t\tclipSize({ widthVal, heightVal }) {\r\n\t\t\tlet { minWidth, minHeight } = this;\r\n\t\t\tminWidth = minWidth / 2;\r\n\t\t\tminHeight = minHeight / 2;\r\n\t\t\tif (widthVal < minWidth) {\r\n\t\t\t\tthis.setDiffData({clipWidth: minWidth})\r\n\t\t\t}\r\n\t\t\tif (heightVal < minHeight) {\r\n\t\t\t\tthis.setDiffData({clipHeight: minHeight})\r\n\t\t\t}\r\n\t\t\tthis.calcClipSize();\r\n\t\t},\r\n\t\tangle(val) {\r\n\t\t\tthis.animation = true;\r\n\t\t\tthis.moveStop();\r\n\t\t\tconst { isLimitMove } = this;\r\n\t\t\tif (isLimitMove && val % 90) {\r\n\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\tangle: Math.round(val / 90) * 90\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tthis.imgMarginDetectionScale();\r\n\t\t},\r\n\t\tanimation(val) {\r\n\t\t\tclearTimeout(this.animationTimer);\r\n\t\t\tif (val) {\r\n\t\t\t\tlet animationTimer = setTimeout(() => {\r\n\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\tanimation: false\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 260);\r\n\t\t\t\tthis.setDiffData({animationTimer})\r\n\t\t\t\tthis.animationTimer = animationTimer;\r\n\t\t\t}\r\n\t\t},\r\n\t\tisLimitMove(val) {\r\n\t\t\tif (val) {\r\n\t\t\t\tif (this.angle % 90) {\r\n\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\tangle : Math.round(this.angle / 90) * 90\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tthis.imgMarginDetectionScale();\r\n\t\t\t}\r\n\t\t},\r\n\t\tclipPoint() {\r\n\t\t\tthis.cutDetectionPosition();\r\n\t\t},\r\n\t\twidth(width, oWidth) {\r\n\t\t\tif (width !== oWidth) {\r\n\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\tclipWidth:  width / 2\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\theight(height, oHeight) {\r\n\t\t\tif (height !== oHeight) {\r\n\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\tclipHeight:  height / 2\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tconst sysinfo = uni.getSystemInfoSync();\r\n\t\tthis.sysinfo = sysinfo;\r\n\t\tthis.setClipInfo();\r\n\t\tif(this.image) {\r\n\t\t\tthis.getImageInfo(this.image)\r\n\t\t}\r\n\t\tthis.setClipCenter();\r\n\t\tthis.calcClipSize();\r\n\t\tthis.cutDetectionPosition();\r\n\t},\r\n\tmethods: {\r\n\t\tsetDiffData(data) {\r\n\t\t\tObject.keys(data).forEach(key => {\r\n\t\t\t  if (this[key] !== data[key]) {\r\n\t\t\t\tthis[key] = data[key];\r\n\t\t\t  }\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetImageInfo(url) {\r\n\t\t\tif (!url) return;\r\n\t\t\tif(this.value) {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '请稍候...',\r\n\t\t\t\t\tmask: true\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tuni.getImageInfo({\r\n\t\t\t\tsrc: url,\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tthis.imgComputeSize(res.width, res.height);\r\n\t\t\t\t\tthis.image = res.path;\r\n\t\t\t\t\tif (this.isLimitMove) {\r\n\t\t\t\t\t\tthis.imgMarginDetectionScale();\r\n\t\t\t\t\t\tthis.$emit('ready', res);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst {imageWidth, imageHeight, imageLeft, imageTop, scale, clipX, clipY, clipWidth, clipHeight} = this\r\n\t\t\t\t\tcache[url] = Object.assign(res, {imageWidth, imageHeight, imageLeft, imageTop, scale, clipX, clipY, clipWidth, clipHeight});\r\n\t\t\t\t},\r\n\t\t\t\tfail: (err) => {\r\n\t\t\t\t\tthis.imgComputeSize();\r\n\t\t\t\t\tif (this.isLimitMove) {\r\n\t\t\t\t\t\tthis.imgMarginDetectionScale();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t},\r\n\t\tsetClipInfo() {\r\n\t\t\tconst { width, height, sysinfo, canvasId } = this;\r\n\t\t\tconst clipWidth = width / 2;\r\n\t\t\tconst clipHeight = height / 2;\r\n\t\t\tconst clipY = (sysinfo.windowHeight - clipHeight) / 2;\r\n\t\t\tconst clipX = (sysinfo.windowWidth - clipWidth) / 2;\r\n\t\t\tconst imageLeft = sysinfo.windowWidth / 2;\r\n\t\t\tconst imageTop = sysinfo.windowHeight / 2;\r\n\t\t\tthis.ctx = uni.createCanvasContext(canvasId, this);\r\n\t\t\tthis.clipWidth = clipWidth;\r\n\t\t\tthis.clipHeight = clipHeight;\r\n\t\t\tthis.clipX = clipX;\r\n\t\t\tthis.clipY = clipY;\r\n\t\t\tthis.canvasHeight = clipHeight;\r\n\t\t\tthis.canvasWidth = clipWidth;\r\n\t\t\tthis.imageLeft = imageLeft;\r\n\t\t\tthis.imageTop = imageTop;\r\n\t\t},\r\n\t\tsetClipCenter() {\r\n\t\t\tconst { sysInfo, clipHeight, clipWidth, imageTop, imageLeft } = this;\r\n\t\t\tlet sys = sysInfo || uni.getSystemInfoSync();\r\n\t\t\tlet clipY = (sys.windowHeight - clipHeight) * 0.5;\r\n\t\t\tlet clipX = (sys.windowWidth - clipWidth) * 0.5;\r\n\t\t\tthis.imageTop = imageTop - this.clipY + clipY;\r\n\t\t\tthis.imageLeft = imageLeft - this.clipX + clipX;\r\n\t\t\tthis.clipY = clipY;\r\n\t\t\tthis.clipX = clipX;\r\n\t\t},\r\n\t\tcalcClipSize() {\r\n\t\t\tconst { clipHeight, clipWidth, sysinfo, clipX, clipY } = this;\r\n\t\t\tif (clipWidth > sysinfo.windowWidth) {\r\n\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\tclipWidth:  sysinfo.windowWidth\r\n\t\t\t\t})\r\n\t\t\t} else if (clipWidth + clipX > sysinfo.windowWidth) {\r\n\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\tclipX: sysinfo.windowWidth - clipX\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tif (clipHeight > sysinfo.windowHeight) {\r\n\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\tclipHeight: sysinfo.windowHeight\r\n\t\t\t\t})\r\n\t\t\t} else if (clipHeight + clipY > sysinfo.windowHeight) {\r\n\t\t\t\tthis.clipY = sysinfo.windowHeight - clipY;\r\n\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\tclipY: sysinfo.windowHeight - clipY\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tcutDetectionPosition() {\r\n\t\t\tconst { clipX, clipY, sysinfo, clipHeight, clipWidth } = this;\r\n\t\t\tlet cutDetectionPositionTop = () => {\r\n\t\t\t\t\tif (clipY < 0) {\r\n\t\t\t\t\t\tthis.setDiffData({clipY: 0})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (clipY > sysinfo.windowHeight - clipHeight) {\r\n\t\t\t\t\t\tthis.setDiffData({clipY: sysinfo.windowHeight - clipHeight})\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tcutDetectionPositionLeft = () => {\r\n\t\t\t\t\tif (clipX < 0) {\r\n\t\t\t\t\t\tthis.setDiffData({clipX: 0})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (clipX > sysinfo.windowWidth - clipWidth) {\r\n\t\t\t\t\t\tthis.setDiffData({clipX: sysinfo.windowWidth - clipWidth})\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\tif (clipY === null && clipX === null) {\r\n\t\t\t\tlet newClipY = (sysinfo.windowHeight - clipHeight) * 0.5;\r\n\t\t\t\tlet newClipX = (sysinfo.windowWidth - clipWidth) * 0.5;\r\n\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\tclipX: newClipX,\r\n\t\t\t\t\tclipY: newClipY\r\n\t\t\t\t})\r\n\t\t\t} else if (clipY !== null && clipX !== null) {\r\n\t\t\t\tcutDetectionPositionTop();\r\n\t\t\t\tcutDetectionPositionLeft();\r\n\t\t\t} else if (clipY !== null && clipX === null) {\r\n\t\t\t\tcutDetectionPositionTop();\r\n\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\tclipX: (sysinfo.windowWidth - clipWidth) / 2\r\n\t\t\t\t})\r\n\t\t\t} else if (clipY === null && clipX !== null) {\r\n\t\t\t\tcutDetectionPositionLeft();\r\n\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\tclipY: (sysinfo.windowHeight - clipHeight) / 2\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\timgComputeSize(width, height) {\r\n\t\t\tconst { imageWidth, imageHeight } = calcImageSize(width, height, this);\r\n\t\t\tthis.imageWidth = imageWidth;\r\n\t\t\tthis.imageHeight = imageHeight;\r\n\t\t},\r\n\t\timgMarginDetectionScale(scale) {\r\n\t\t\tif (!this.isLimitMove) return;\r\n\t\t\tconst currentScale = calcImageScale(this, scale);\r\n\t\t\tthis.imgMarginDetectionPosition(currentScale);\r\n\t\t},\r\n\t\timgMarginDetectionPosition(scale) {\r\n\t\t\tif (!this.isLimitMove) return;\r\n\t\t\tconst { scale: currentScale, left, top } = calcImageOffset(this, scale);\r\n\t\t\tthis.setDiffData({\r\n\t\t\t\timageLeft: left,\r\n\t\t\t\timageTop: top,\r\n\t\t\t\tscale: currentScale\r\n\t\t\t})\r\n\t\t},\r\n\t\tthrottle() {\r\n\t\t\tthis.setDiffData({\r\n\t\t\t\tthrottleFlag: true\r\n\t\t\t})\r\n\t\t},\r\n\t\tmoveDuring() {\r\n\t\t\tclearTimeout(this.timeClipCenter);\r\n\t\t},\r\n\t\tmoveStop() {\r\n\t\t\tclearTimeout(this.timeClipCenter);\r\n\t\t\tconst timeClipCenter = setTimeout(() => {\r\n\t\t\t\tif (!this.animation) {\r\n\t\t\t\t\tthis.setDiffData({animation: true})\r\n\t\t\t\t}\r\n\t\t\t\tthis.setClipCenter();\r\n\t\t\t}, 800);\r\n\t\t\tthis.setDiffData({timeClipCenter})\r\n\t\t},\r\n\t\tclipTouchStart(event) {\r\n\t\t\t// #ifdef H5\r\n\t\t\tevent.preventDefault()\r\n\t\t\t// #endif\r\n\t\t\tif (!this.image) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '请选择图片',\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 3000\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst currentX = event.touches[0].clientX;\r\n\t\t\tconst currentY = event.touches[0].clientY;\r\n\t\t\tconst { clipX, clipY, clipWidth, clipHeight } = this;\r\n\t\t\tconst corner = determineDirection(clipX, clipY, clipWidth, clipHeight, currentX, currentY);\r\n\t\t\tthis.moveDuring();\r\n\t\t\tif(!corner) {return}\r\n\t\t\tthis.clipStart = {\r\n\t\t\t\twidth: clipWidth,\r\n\t\t\t\theight: clipHeight,\r\n\t\t\t\tx: currentX,\r\n\t\t\t\ty: currentY,\r\n\t\t\t\tclipY,\r\n\t\t\t\tclipX,\r\n\t\t\t\tcorner\r\n\t\t\t};\r\n\t\t\tthis.flagClipTouch = true;\r\n\t\t\tthis.flagEndTouch = true;\r\n\t\t},\r\n\t\tclipTouchMove(event) {\r\n\t\t\t// #ifdef H5\r\n\t\t\tevent.stopPropagation()\r\n\t\t\tevent.preventDefault()\r\n\t\t\t// #endif\r\n\t\t\tif (!this.image) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '请选择图片',\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 3000\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t// 只针对单指点击做处理\r\n\t\t\tif (event.touches.length !== 1) {\r\n\t\t\t\treturn;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tconst { flagClipTouch, throttleFlag } = this;\r\n\t\t\tif (flagClipTouch && throttleFlag) {\r\n\t\t\t\tconst { isLockRatio, isLockHeight, isLockWidth } = this;\r\n\t\t\t\tif (isLockRatio && (isLockWidth || isLockHeight)) return;\r\n\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\tthrottleFlag: false\r\n\t\t\t\t})\r\n\t\t\t\tthis.throttle();\r\n\t\t\t\tconst clipData = clipTouchMoveOfCalculate(this, event);\r\n\t\t\t\tif(clipData) {\r\n\t\t\t\t\tconst { width, height, clipX, clipY } = clipData;\r\n\t\t\t\t\tif (!isLockWidth && !isLockHeight) {\r\n\t\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\t\tclipWidth: width,\r\n\t\t\t\t\t\t\tclipHeight: height,\r\n\t\t\t\t\t\t\tclipX,\r\n\t\t\t\t\t\t\tclipY\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else if (!isLockWidth) {\r\n\t\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\t\tclipWidth: width,\r\n\t\t\t\t\t\t\tclipX\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else if (!isLockHeight) {\r\n\t\t\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\t\t\tclipHeight: height,\r\n\t\t\t\t\t\t\tclipY\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.imgMarginDetectionScale();\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tclipTouchEnd() {\r\n\t\t\tthis.moveStop();\r\n\t\t\tthis.flagClipTouch = false;\r\n\t\t},\r\n\t\timageTouchStart(e) {\r\n\t\t\t// #ifdef H5\r\n\t\t\tevent.preventDefault()\r\n\t\t\t// #endif\r\n\t\t\tthis.flagEndTouch = false;\r\n\t\t\tconst { imageLeft, imageTop } = this;\r\n\t\t\tconst clientXForLeft = e.touches[0].clientX;\r\n\t\t\tconst clientYForLeft = e.touches[0].clientY;\r\n\r\n\t\t\tlet touchRelative = [];\r\n\t\t\tif (e.touches.length === 1) {\r\n\t\t\t\ttouchRelative[0] = {\r\n\t\t\t\t\tx: clientXForLeft - imageLeft,\r\n\t\t\t\t\ty: clientYForLeft - imageTop\r\n\t\t\t\t};\r\n\t\t\t\tthis.touchRelative = touchRelative;\r\n\t\t\t} else {\r\n\t\t\t\tconst clientXForRight = e.touches[1].clientX;\r\n\t\t\t\tconst clientYForRight = e.touches[1].clientY;\r\n\t\t\t\tlet width = Math.abs(clientXForLeft - clientXForRight);\r\n\t\t\t\tlet height = Math.abs(clientYForLeft - clientYForRight);\r\n\t\t\t\tconst hypotenuseLength = calcPythagoreanTheorem(width, height);\r\n\r\n\t\t\t\ttouchRelative = [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tx: clientXForLeft - imageLeft,\r\n\t\t\t\t\t\ty: clientYForLeft - imageTop\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tx: clientXForRight - imageLeft,\r\n\t\t\t\t\t\ty: clientYForRight - imageTop\r\n\t\t\t\t\t}\r\n\t\t\t\t];\r\n\t\t\t\tthis.touchRelative = touchRelative;\r\n\t\t\t\tthis.hypotenuseLength = hypotenuseLength;\r\n\t\t\t}\r\n\t\t},\r\n\t\timageTouchMove(e) {\r\n\t\t\t// #ifdef H5\r\n\t\t\tevent.preventDefault()\r\n\t\t\t// #endif\r\n\t\t\tconst { flagEndTouch, throttleFlag } = this;\r\n\t\t\tif (flagEndTouch || !throttleFlag) return;\r\n\t\t\tconst clientXForLeft = e.touches[0].clientX;\r\n\t\t\tconst clientYForLeft = e.touches[0].clientY;\r\n\t\t\tthis.setDiffData({throttleFlag: false})\r\n\t\t\tthis.throttle();\r\n\t\t\tthis.moveDuring();\r\n\t\t\tif (e.touches.length === 1) {\r\n\t\t\t\tconst { left: imageLeft, top:  imageTop} = imageTouchMoveOfCalcOffset(this, clientXForLeft, clientYForLeft);\r\n\t\t\t\tthis.setDiffData({\r\n\t\t\t\t\timageLeft,\r\n\t\t\t\t\timageTop\r\n\t\t\t\t})\r\n\t\t\t\tthis.imgMarginDetectionPosition();\r\n\t\t\t} else {\r\n\t\t\t\tconst clientXForRight = e.touches[1].clientX;\r\n\t\t\t\tconst clientYForRight = e.touches[1].clientY;\r\n\t\t\t\tlet width = Math.abs(clientXForLeft - clientXForRight),\r\n\t\t\t\t\theight = Math.abs(clientYForLeft - clientYForRight),\r\n\t\t\t\t\thypotenuse = calcPythagoreanTheorem(width, height),\r\n\t\t\t\t\tscale = this.scale * (hypotenuse / this.hypotenuseLength);\r\n\t\t\t\tif (this.isDisableScale) {\r\n\r\n\t\t\t\t\tscale = 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tscale = scale <= this.minRatio ? this.minRatio : scale;\r\n\t\t\t\t\tscale = scale >= this.maxRatio ? this.maxRatio : scale;\r\n\t\t\t\t\tthis.$emit('change', {\r\n\t\t\t\t\t\twidth: this.imageWidth * scale,\r\n\t\t\t\t\t\theight: this.imageHeight * scale\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.imgMarginDetectionScale(scale);\r\n\t\t\t\tthis.hypotenuseLength = Math.sqrt(Math.pow(width, 2) + Math.pow(height, 2));\r\n\t\t\t\tthis.scale = scale;\r\n\t\t\t}\r\n\t\t},\r\n\t\timageTouchEnd() {\r\n\t\t\tthis.setDiffData({\r\n\t\t\t\tflagEndTouch: true\r\n\t\t\t})\r\n\t\t\tthis.moveStop();\r\n\t\t},\r\n\t\tuploadImage() {\r\n\t\t\tconst itemList = Object.entries(this.source)\r\n\t\t\tconst sizeType = ['original', 'compressed']\r\n\t\t\tconst success = ({tempFilePaths:a, tempFiles: b}) => {\r\n\t\t\t\tthis.image = a ? a[0] : b[0].path\r\n\t\t\t};\r\n\t\t\tconst _uploadImage = (type) => {\r\n\t\t\t\tif(type !== 'message') {\r\n\t\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\t\tcount: 1,\r\n\t\t\t\t\t\tsizeType,\r\n\t\t\t\t\t\tsourceType: [type],\r\n\t\t\t\t\t\tsuccess\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\tif(type == 'message') {\r\n\t\t\t\t\twx.chooseMessageFile({\r\n\t\t\t\t\t  count: 1,\r\n\t\t\t\t\t  type: 'image',\r\n\t\t\t\t\t  success\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\t\t\t}\r\n\t\t\tif(itemList.length > 1) {\r\n\t\t\t\tuni.showActionSheet({\r\n\t\t\t\t\titemList: itemList.map(v => v[1]),\r\n\t\t\t\t\tsuccess: ({tapIndex: i}) => {\r\n\t\t\t\t\t\t_uploadImage(itemList[i][0])\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t_uploadImage(itemList[0][0])\r\n\t\t\t}\r\n\t\t},\r\n\t\timageReset() {\r\n\t\t\tconst sys = this.sysinfo || uni.getSystemInfoSync();\r\n\t\t\tthis.scale = 1;\r\n\t\t\tthis.angle = 0;\r\n\t\t\tthis.imageTop = sys.windowHeight / 2;\r\n\t\t\tthis.imageLeft = sys.windowWidth / 2;\r\n\t\t},\r\n\t\timageLoad(e) {\r\n\t\t\tthis.imageReset();\r\n\t\t\tuni.hideLoading();\r\n\t\t\tthis.$emit('ready', e.detail);\r\n\t\t},\r\n\t\trotate(event) {\r\n\t\t\tif (this.isDisableRotate) return;\r\n\t\t\tif (!this.image) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '请选择图片',\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 3000\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst { rotateAngle } = this;\r\n\t\t\tconst originAngle = this.angle\r\n\t\t\tconst type = event.currentTarget.dataset.type;\r\n\t\t\tif (type === 'along') {\r\n\t\t\t\tthis.angle = originAngle + rotateAngle\r\n\t\t\t} else {\r\n\t\t\t\tthis.angle = originAngle - rotateAngle\r\n\t\t\t}\r\n\t\t\tthis.$emit('rotate', this.angle);\r\n\t\t},\r\n\t\tconfirm() {\r\n\t\t\tif (!this.image) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '请选择图片',\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 3000\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '加载中'\r\n\t\t\t});\r\n\t\t\tconst { canvasHeight, canvasWidth, clipHeight, clipWidth, ctx, scale, imageLeft, imageTop, clipX, clipY, angle, scaleRatio: dpr, image, quality, fileType, type: imageType, canvasId } = this;\r\n\t\t\tconst draw = () => {\r\n\t\t\t\tconst imageWidth = this.imageWidth * scale * dpr;\r\n\t\t\t\tconst imageHeight = this.imageHeight * scale * dpr;\r\n\t\t\t\tconst xpos = imageLeft - clipX;\r\n\t\t\t\tconst ypos = imageTop - clipY;\r\n\t\t\t\tctx.translate(xpos * dpr, ypos * dpr);\r\n\t\t\t\tctx.rotate((angle * Math.PI) / 180);\r\n\t\t\t\tctx.drawImage(image, -imageWidth / 2, -imageHeight / 2, imageWidth, imageHeight);\r\n\t\t\t\tctx.draw(false, () => {\r\n\t\t\t\t\tconst width = clipWidth * dpr\r\n\t\t\t\t\tconst height = clipHeight * dpr\r\n\t\t\t\t\tlet params = {\r\n\t\t\t\t\t\tx: 0,\r\n\t\t\t\t\t\ty: 0,\r\n\t\t\t\t\t\twidth,\r\n\t\t\t\t\t\theight,\r\n\t\t\t\t\t\tdestWidth: width,\r\n\t\t\t\t\t\tdestHeight: height,\r\n\t\t\t\t\t\tcanvasId: canvasId,\r\n\t\t\t\t\t\tfileType,\r\n\t\t\t\t\t\tquality,\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tdata.url = res.tempFilePath;\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tthis.$emit('success', data);\r\n\t\t\t\t\t\t\tthis.$emit('input', false)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: (error) => {\r\n\t\t\t\t\t\t\tconsole.error('error', error)\r\n\t\t\t\t\t\t\tthis.$emit('fail', error);\r\n\t\t\t\t\t\t\tthis.$emit('input', false)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\turl: '',\r\n\t\t\t\t\t\twidth,\r\n\t\t\t\t\t\theight\r\n\t\t\t\t\t};\r\n\t\t\t\t\tuni.canvasToTempFilePath(params, this)\r\n\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\tif (canvasWidth !== clipWidth || canvasHeight !== clipHeight) {\r\n\t\t\t\tthis.canvasWidth = clipWidth;\r\n\t\t\t\tthis.canvasHeight = clipHeight;\r\n\t\t\t\tctx.draw();\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tdraw();\r\n\t\t\t\t\t}, 100);\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tdraw();\r\n\t\t\t}\r\n\t\t},\r\n\t\tcancel() {\r\n\t\t\tthis.$emit('cancel', false)\r\n\t\t\tthis.$emit('input', false)\r\n\t\t},\r\n\t}\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import './index'\r\n</style>","import Component from 'E:/testProjects/WeChatProjects/testProject-2/燃气后台管理面板/uni_modules/uni-id-pages/pages/userinfo/cropImage/limeClipper/limeClipper.vue'\nwx.createComponent(Component)"],"names":["uni","calcImageSize","calcImageScale","calcImageOffset","determineDirection","clipTouchMoveOfCalculate","calcPythagoreanTheorem","imageTouchMoveOfCalcOffset","wx"],"mappings":"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"}