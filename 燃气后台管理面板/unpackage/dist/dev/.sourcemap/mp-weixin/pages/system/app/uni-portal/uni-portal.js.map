{"version":3,"file":"uni-portal.js","sources":["pages/system/app/uni-portal/uni-portal.vue","../../../../微信开发者工具/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXNcc3lzdGVtXGFwcFx1bmktcG9ydGFsXHVuaS1wb3J0YWwudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"uni-container\">\r\n\r\n\t\t<h3 class=\"text-separated\" style=\"padding: 0 0 20rpx 0;\">步骤1：了解“统一发布页”</h3>\r\n\r\n\t\t<view style=\"margin-top: 20rpx;\">\r\n\t\t\t<view class=\"text-separated\">\r\n\t\t\t\t<text class=\"strong\">uni-portal </text>\r\n\t\t\t\t<text>是 uni-app 提供的一套开箱即用的“统一发布页”。</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"text-separated\">\r\n\t\t\t\t<text class=\"strong\">uni-portal </text>\r\n\t\t\t\t<text>可作为面向用户的统一业务名片，在一个页面集中展现：App下载地址、小程序二维码、H5访问链接等信息。</text>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- #ifdef H5 -->\r\n\t\t\t<view class=\"text-separated\">\r\n\t\t\t\t<text style=\"font-size: 16px;\">uni-app 官方示例的发布页就是基于<text class=\"strong\">uni-portal </text> 制作的，<a\r\n\t\t\t\t\t\thref=\"https://hellouniapp.dcloud.net.cn/portal\" target=\"_blank\" class=\"a-label\">点击体验</a>\r\n\t\t\t\t</text>\r\n\t\t\t</view>\r\n\t\t\t<!-- #endif -->\r\n\t\t</view>\r\n\r\n\t\t<h3 class=\"text-separated\" style=\"padding: 40rpx 0 20rpx 0;\">步骤2：获取“统一发布页”</h3>\r\n\t\t<view class=\"flex text-separated\" style=\"margin-top: 20rpx;\">\r\n\t\t\t<text>\r\n\t\t\t\t<view class=\"strong\">uni-portal </view> 可根据「应用管理」中所填写的应用信息，一键生成发布页：\r\n\t\t\t</text>\r\n\t\t\t<button class=\"custom-button\" size=\"mini\" type=\"primary\" @click=\"publish\"\r\n\t\t\t\tstyle=\"margin: 0;\">生成并下载发布页</button>\r\n\t\t</view>\r\n\r\n\t\t<h3 class=\"text-separated\" style=\"padding: 40rpx 0 20rpx 0;\">步骤3：上传“统一发布页”</h3>\r\n\r\n\t\t<view style=\"margin-top: 20rpx;\">\r\n\t\t\t<view class=\"text-separated\">\r\n\t\t\t\t<text>\r\n\t\t\t\t\t步骤2下载的“统一发布页”，是一个静态HTML页面，你可以直接在本地浏览器中打开访问。\r\n\t\t\t\t</text>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"text-separated\">\r\n\t\t\t\t<text>\r\n\t\t\t\t\t为了让用户访问到这个“统一发布页”，你需要将该静态HTML文件上传到你的服务器中；推荐使用<a href=\"https://uniapp.dcloud.io/uniCloud/hosting\"\r\n\t\t\t\t\t\ttarget=\"_blank\" class=\"a-label\" style=\"padding: 5px;\">前端网页托管</a>，因为前端网页托管具备使用更简单、价格更便宜、访问更快等优点。\r\n\t\t\t\t</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tconst download = function(content, filename) {\r\n\t\tlet eleLink = document.createElement('a');\r\n\t\teleLink.download = filename;\r\n\t\teleLink.style.display = 'none';\r\n\t\tlet blob = new Blob([content]);\r\n\t\teleLink.href = URL.createObjectURL(blob);\r\n\t\tdocument.body.appendChild(eleLink);\r\n\t\teleLink.click();\r\n\t\tdocument.body.removeChild(eleLink);\r\n\t};\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tid: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad({\r\n\t\t\tid\r\n\t\t}) {\r\n\t\t\tthis.id = id\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tpublish() {\r\n\t\t\t\tif (!this.id) {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tcontent: '页面出错，请返回重进',\r\n\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\turl: '/pages/system/app/list'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.$request('createPublishHtml', {\r\n\t\t\t\t\tid: this.id\r\n\t\t\t\t}, {\r\n\t\t\t\t\tfunctionName: 'uni-portal',\r\n\t\t\t\t\tshowModal: false\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\tif ('download' in document.createElement('a')) {\r\n\t\t\t\t\t\tdownload(res.body, 'index.html');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\t\t\ttitle: '浏览器不支持',\r\n\t\t\t\t\t\t\tduration: 800\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t}).catch((res) => {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tcontent: res.errMsg,\r\n\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.strong {\r\n\t\tpadding: 10rpx;\r\n\t\tdisplay: inline-block;\r\n\t\tcolor: #c7254e;\r\n\t}\r\n\r\n\t.a-label {\r\n\t\ttext-decoration: none;\r\n\t\tcolor: #0366d6;\r\n\t\tfont-weight: bold;\r\n\t\tpadding: 10rpx;\r\n\t}\r\n\r\n\t.text-separated {\r\n\t\tline-height: 2em;\r\n\t\tcolor: #2c3e50;\r\n\t}\r\n\r\n\t.tip {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: flex-start;\r\n\t\tbackground-color: #f3f5f7;\r\n\t\tcolor: #2c3e50;\r\n\t\tpadding: 10px;\r\n\t\tfont-size: 32rpx;\r\n\r\n\t\tborder: {\r\n\t\t\tcolor: #409EFF;\r\n\t\t\tleft-width: 8px;\r\n\t\t\tleft-style: solid;\r\n\t\t}\r\n\r\n\t\ttext {\r\n\t\t\tmargin-right: 15px;\r\n\t\t}\r\n\r\n\t\t.custom-button {\r\n\t\t\tmargin-left: 0px;\r\n\t\t}\r\n\t}\r\n</style>\r\n","import MiniProgramPage from 'E:/testProjects/WeChatProjects/testProject-2/燃气后台管理面板/pages/system/app/uni-portal/uni-portal.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AAgEC,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,IAAI;AAAA,IACL;AAAA,EACA;AAAA,EACD,OAAO;AAAA,IACN;AAAA,EACD,GAAG;AACF,SAAK,KAAK;AAAA,EACV;AAAA,EACD,SAAS;AAAA,IACR,UAAU;AACT,UAAI,CAAC,KAAK,IAAI;AACbA,sBAAAA,MAAI,UAAU;AAAA,UACb,SAAS;AAAA,UACT,YAAY;AAAA,UACZ,QAAQ,KAAK;AACZA,0BAAAA,MAAI,WAAW;AAAA,cACd,KAAK;AAAA,aACL;AAAA,UACF;AAAA,SACA;AACD;AAAA,MACD;AACA,WAAK,SAAS,qBAAqB;AAAA,QAClC,IAAI,KAAK;AAAA,MACV,GAAG;AAAA,QACF,cAAc;AAAA,QACd,WAAW;AAAA,OACX,EAAE,KAAK,SAAO;AAAA,MAYf,CAAC,EAAE,MAAM,CAAC,QAAQ;AACjBA,sBAAAA,MAAI,UAAU;AAAA,UACb,SAAS,IAAI;AAAA,UACb,YAAY;AAAA,SACZ;AAAA,OACD;AAAA,IACF;AAAA,EACD;AACD;;;;;;;ACjHD,GAAG,WAAW,eAAe;"}