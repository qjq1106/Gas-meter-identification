{"version":3,"file":"publish_add_detail_mixin.js","sources":["pages/system/app/mixin/publish_add_detail_mixin.js"],"sourcesContent":["import {\r\n\tvalidator,\r\n\tmpPlatform\r\n} from '@/js_sdk/validator/opendb-app-list.js';\r\n\r\nconst formatFilePickerValue = (url) => (url ? {\r\n\t\"name\": \"\",\r\n\t\"extname\": \"\",\r\n\t\"url\": url,\r\n} : {})\r\n\r\nfunction getValidator(fields) {\r\n\tlet result = {}\r\n\tfor (let key in validator) {\r\n\t\tif (fields.includes(key)) {\r\n\t\t\tresult[key] = validator[key]\r\n\t\t}\r\n\t}\r\n\treturn result\r\n}\r\n\r\nconst schemes = [\"mimarket\", \"samsungapps\", \"appmarket\", \"oppomarket\", \"vivomarket\"]\r\nconst schemeBrand = [\"xiaomi\", \"samsung\", \"huawei\", \"oppo\", \"vivo\"]\r\n\r\nexport default {\r\n\tdata() {\r\n\t\tlet formData = {\r\n\t\t\t\"appid\": \"\",\r\n\t\t\t\"name\": \"\",\r\n\t\t\t\"app_type\": 0,\r\n\t\t\t\"icon_url\": \"\",\r\n\t\t\t\"introduction\": \"\",\r\n\t\t\t\"alias\": \"\",\r\n\t\t\t\"description\": \"\",\r\n\t\t\t\"screenshot\": [],\r\n\t\t\t\"store_list\": [],\r\n\t\t\t\"app_android\": {},\r\n\t\t\t\"app_ios\": {},\r\n\t\t\t\"app_harmony\": {},\r\n\t\t\t\"mp_weixin\": {},\r\n\t\t\t\"mp_alipay\": {},\r\n\t\t\t\"mp_baidu\": {},\r\n\t\t\t\"mp_toutiao\": {},\r\n\t\t\t\"mp_qq\": {},\r\n\t\t\t\"mp_lark\": {},\r\n\t\t\t\"mp_kuaishou\": {},\r\n\t\t\t\"mp_dingtalk\": {},\r\n\t\t\t\"mp_jd\": {},\r\n\t\t\t\"h5\": {},\r\n\t\t\t\"quickapp\": {}\r\n\t\t}\r\n\t\tconst data = {\r\n\t\t\tformData,\r\n\t\t\trules: Object.freeze(getValidator(Object.keys(formData))),\r\n\t\t\tmpPlatform: Object.freeze(mpPlatform),\r\n\t\t\tscreenshotList: [],\r\n\t\t\tmiddleware_img: {},\r\n\t\t\tmiddleware_checkbox: {},\r\n\t\t\tappPackageInfo: {},\r\n\t\t\tappPlatformKeys: Object.freeze(['app_ios', 'app_android', 'app_harmony']),\r\n\t\t\tappPlatformValues: Object.freeze({\r\n\t\t\t\tapp_android: 'Android',\r\n\t\t\t\tapp_ios: 'iOS',\r\n\t\t\t\tapp_harmony: 'Harmony'\r\n\t\t\t}),\r\n\t\t\tkeepItems: Object.freeze([]),\r\n\t\t\tisEdit: false,\r\n\t\t\tdeletedStore: []\r\n\t\t}\r\n\t\tconst mpKeys = Object.keys(mpPlatform);\r\n\t\tdata.mpPlatformKeys = Object.freeze(mpKeys);\r\n\t\t[].concat(mpKeys, ['icon_url', 'quickapp']).forEach(key => data.middleware_img[key] = {});\r\n\t\tdata.platFormKeys = Object.freeze([].concat(mpKeys, data.appPlatformKeys))\r\n\t\tdata.platFormKeys.forEach(key => data.middleware_checkbox[key] = false)\r\n\t\treturn data\r\n\t},\r\n\tmethods: {\r\n\t\trequestCloudFunction(functionName, params = {}) {\r\n\t\t\treturn this.$request(functionName, params, {\r\n\t\t\t\tfunctionName: 'uni-upgrade-center'\r\n\t\t\t})\r\n\t\t},\r\n\t\thasValue(value) {\r\n\t\t\tif (typeof value !== 'object') return !!value\r\n\t\t\tif (value instanceof Array) return !!value.length\r\n\t\t\treturn !!(value && Object.keys(value).length)\r\n\t\t},\r\n\t\tinitFormData(obj) {\r\n\t\t\tif (!obj || !Object.keys(obj).length) return;\r\n\t\t\t// TODO delete\r\n\t\t\tfor (let key in obj) {\r\n\t\t\t\tconst value = obj[key]\r\n\t\t\t\tswitch (key) {\r\n\t\t\t\t\tcase 'icon_url':\r\n\t\t\t\t\t\tthis.middleware_img[key] = formatFilePickerValue(value)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'screenshot':\r\n\t\t\t\t\t\tthis.screenshotList = value.map(item => formatFilePickerValue(item))\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tif ((key.indexOf('mp') !== -1 || key.indexOf('app') !== -1) && this.hasValue(value)) {\r\n\t\t\t\t\t\t\tthis.setPlatformChcekbox(key, true)\r\n\t\t\t\t\t\t\tif (value.qrcode_url)\r\n\t\t\t\t\t\t\t\tthis.middleware_img[key] = formatFilePickerValue(value.qrcode_url)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tthis.setFormData(key, value)\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetFormData(key, value) {\r\n\t\t\tconst keys = key.indexOf('.') !== -1 ? key.split('.') : [key];\r\n\t\t\tconst lens = keys.length - 1\r\n\t\t\tlet tempObj = this.formData\r\n\t\t\tkeys.forEach((key, index) => {\r\n\t\t\t\tconst obj = tempObj[key]\r\n\t\t\t\tif (typeof obj === 'object' && index < lens) {\r\n\t\t\t\t\ttempObj = obj\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttempObj[key] = value\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tgetFormData(key) {\r\n\t\t\tconst keys = key.indexOf('.') !== -1 ? key.split('.') : [key];\r\n\t\t\tconst lens = keys.length - 1\r\n\t\t\tlet tempObj = this.formData\r\n\t\t\tfor (let i = 0; i < keys.length; i++) {\r\n\t\t\t\tconst key = keys[i]\r\n\t\t\t\ttempObj = tempObj[key]\r\n\t\t\t\tif (tempObj == null) {\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn tempObj\r\n\t\t},\r\n\t\tformatFormData() {\r\n\t\t\tthis.setFormData('screenshot', this.screenshotList.map(item => item.fileID || item.url))\r\n\r\n\t\t\tfor (let i = 0; i < this.formData.store_list.length; i++) {\r\n\t\t\t\tconst item = this.formData.store_list[i]\r\n\r\n\t\t\t\tif (item.scheme.trim().length === 0) {\r\n\t\t\t\t\tthis.formData.store_list.splice(i, 1)\r\n\t\t\t\t\ti--\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst index = schemes.indexOf((item.scheme.match(/(.*):\\/\\//) || [])[1])\r\n\t\t\t\tif (index !== -1) {\r\n\t\t\t\t\tif (item.id !== schemeBrand[index]) {\r\n\t\t\t\t\t\tthis.deletedStore.push(item.id)\r\n\t\t\t\t\t}\r\n\t\t\t\t\titem.id = schemeBrand[index]\r\n\t\t\t\t}\r\n\t\t\t\titem.priority = parseFloat(item.priority)\r\n\t\t\t}\r\n\r\n\t\t\tthis.keepItems = this.platFormKeys\r\n\t\t\t\t.filter(key =>\r\n\t\t\t\t\tthis.getPlatformChcekbox(key) &&\r\n\t\t\t\t\t(this.formData[key].url || this.formData[key].abm_url || this.formData[key].qrcode_url)\r\n\t\t\t\t)\r\n\t\t\t\t.concat(['icon_url', 'screenshot', 'create_date', 'store_list', 'app_type'])\r\n\r\n\t\t\tif (this.formData.h5 && this.formData.h5.url)\r\n\t\t\t\tthis.keepItems.push('h5');\r\n\t\t},\r\n\t\t// 根据 appid 自动填充\r\n\t\tautoFill() {\r\n\t\t\tconst appid = this.getFormData('appid')\r\n\t\t\tif (!appid) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tuni.showLoading({\r\n\t\t\t\tmask: true\r\n\t\t\t})\r\n\r\n\t\t\tthis.requestCloudFunction('getAppInfo', {\r\n\t\t\t\t\tappid\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tif (res.success) {\r\n\t\t\t\t\t\tthis.setFormData('description', res.description)\r\n\t\t\t\t\t\tthis.setFormData('name', res.name)\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(e => {\r\n\t\t\t\t\tconsole.error(e)\r\n\t\t\t\t}).finally(() => {\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t})\r\n\t\t},\r\n\t\tautoFillApp() {\r\n\t\t\tconst appid = this.getFormData('appid')\r\n\t\t\tif (!appid) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tthis.appPlatformKeys.forEach(key => {\r\n\t\t\t\tthis.fetchAppInfo(appid, this.appPlatformValues[key]).then(res => {\r\n\t\t\t\t\tif (res && res.success) {\r\n\t\t\t\t\t\tthis.setPlatformChcekbox(key, true)\r\n\t\t\t\t\t\tthis.setFormData(key, {\r\n\t\t\t\t\t\t\tname: res.name,\r\n\t\t\t\t\t\t\turl: res.url\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t},\r\n\t\tfetchAppInfo(appid, platform) {\r\n\t\t\tuni.showLoading({\r\n\t\t\t\tmask: true\r\n\t\t\t})\r\n\t\t\treturn this.requestCloudFunction('getAppVersionInfo', {\r\n\t\t\t\tappid,\r\n\t\t\t\tplatform\r\n\t\t\t}).then(res => {\r\n\t\t\t\treturn res\r\n\t\t\t}).catch(e => {\r\n\t\t\t\tconsole.error(e)\r\n\t\t\t}).finally(() => {\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t})\r\n\t\t},\r\n\t\ticonUrlSuccess(res, key) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ticon: 'success',\r\n\t\t\t\ttitle: '上传成功',\r\n\t\t\t\tduration: 500\r\n\t\t\t})\r\n\t\t\tthis.setFormData(key, res.tempFilePaths[0])\r\n\t\t},\r\n\t\tasync iconUrlDelete(res, key) {\r\n\t\t\tlet deleteRes = await this.requestCloudFunction('deleteFile', {\r\n\t\t\t\tfileList: [res.tempFile.fileID || res.tempFile.url]\r\n\t\t\t})\r\n\t\t\tuni.showToast({\r\n\t\t\t\ticon: 'success',\r\n\t\t\t\ttitle: '删除成功',\r\n\t\t\t\tduration: 800\r\n\t\t\t})\r\n\t\t\tif (!key) return;\r\n\t\t\tthis.setFormData(key, '')\r\n\t\t\tthis.$refs.form.clearValidate(key)\r\n\t\t},\r\n\t\tgetPlatformChcekbox(mp_name) {\r\n\t\t\treturn this.middleware_checkbox[mp_name]\r\n\t\t},\r\n\t\tsetPlatformChcekbox(mp_name, value = false) {\r\n\t\t\tthis.middleware_checkbox[mp_name] = value\r\n\t\t},\r\n\t\tselectFile() {\r\n\t\t\tif (this.hasPackage) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: '只可上传一个文件，请删除已上传后重试',\r\n\t\t\t\t\tduration: 1000\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\thasPackage() {\r\n\t\t\treturn this.appPackageInfo && !!Object.keys(this.appPackageInfo).length\r\n\t\t},\r\n\t}\r\n}\r\n"],"names":["validator","mpPlatform","key","uni"],"mappings":"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"}