{"version":3,"file":"fieldsMap.js","sources":["pages/uni-stat/device/overview/fieldsMap.js"],"sourcesContent":["/**\n * 页面上的数据都来自数据库，且多处 ui 消费，页面直接使用字段会造成耦合和冗余，固在此抽出来统一配置（clientdb 查询方法、概念文字提示等）和处理（对值再计算、格式化等）\n * title 显示所使用名称\r\n * field 数据库字段名\r\n * computed 计算表达式配置，只支持除法计算（需要 mapfield 函数支持，也可自行扩展）\r\n * tooltip 对字段解释的提示文字\n * formatter 数字格式化的配置，省缺为 ','\n  \t* '' 空字符串 则表示不格式化\n\t* ',' 数字格式，例：1000 格式为 1,000\n\t* '%' 百分比格式 例：0.1 格式为 10%\n\t* ':' 时分秒格式 例：90 格式为 00:01:30\n\t* '-' 日期格式 例：1655196831390(值需为时间戳) 格式为 2022-06-14\n * stat 对字段做 groupField 时需使用的数据库计算方法，省缺为 'sum'\n  \t* 'sum' 表示对字段做求和运算\n  \t* 'avg' 表示对字段做平均运算\n * fix 数字保留几位小数，>1 默认不保留小数，<1 默认保留两位小数\n * value 默认值 (仅用于 uni-stat-panel 组件) todo: 可移除\n * contrast 对比值 (仅用于 uni-stat-panel 组件) todo: 可移除\n */\n\nconst fieldsMap = [{\r\n\tvalue: '今天',\r\n\tcontrast: '昨天'\r\n}, {\r\n\ttitle: '新增设备',\r\n\tfield: 'new_device_count',\r\n\ttooltip: '首次访问应用的设备数（以设备为判断标准，去重）',\r\n\tvalue: 0,\r\n\tcontrast: 0\r\n}, {\r\n\ttitle: '活跃设备',\r\n\tfield: 'active_device_count',\r\n\ttooltip: '访问过应用内任意页面的总设备数，今日数据为每小时活跃设备累加（未虑重），昨日数据为全天活跃设备虑重后结果',\r\n\tvalue: 0,\r\n\tcontrast: 0\r\n}, {\r\n\ttitle: '访问次数',\r\n\tfield: 'page_visit_count',\r\n\ttooltip: '访问过应用内任意页面总次数，多个页面之间跳转、同一页面的重复访问计为多次访问',\r\n\tvalue: 0,\r\n\tcontrast: 0\r\n}, {\r\n\ttitle: '启动次数',\r\n\tfield: 'app_launch_count',\r\n\ttooltip: '设备从打开应用到主动关闭应用或超时退出计为一次启动',\r\n\tvalue: 0,\r\n\tcontrast: 0\r\n}, {\r\n\ttitle: '次均停留时长',\r\n\tfield: 'avg_device_session_time',\n\tcomputed: 'duration/app_launch_count',\r\n\tformatter: ':',\r\n\ttooltip: '平均每次打开应用停留在应用内的总时长，即应用停留总时长/启动次数',\r\n\tvalue: 0,\r\n\tcontrast: 0,\r\n\t//stat: 'avg'\r\n}, {\r\n\ttitle: '设备平均停留时长 ',\r\n\tfield: 'avg_device_time',\n\tcomputed: 'duration/active_device_count',\r\n\tformatter: ':',\r\n\ttooltip: '平均每个设备停留在应用内的总时长，即应用停留总时长/活跃设备',\r\n\tvalue: 0,\r\n\tcontrast: 0,\r\n\t//stat: 'avg'\r\n}, {\r\n\ttitle: '跳出率',\r\n\tfield: 'bounceRate',\r\n\tcomputed: 'bounce_times/app_launch_count',\r\n\tformatter: '%',\r\n\ttooltip: '只浏览一个页面便离开应用的次数占总启动次数的百分比',\r\n\tvalue: 0,\r\n\tcontrast: 0,\r\n\tfix: 2\r\n}, {\r\n\ttitle: '总设备数',\r\n\tfield: 'total_devices',\r\n\ttooltip: '从添加统计到当前选择时间的总设备数（去重）',\r\n\tvalue: 0,\r\n\tcontrast: 0\r\n}]\r\n\r\nconst resFieldsMap = [{\r\n\ttitle: '受访页',\r\n\tfield: 'path',\r\n\ttooltip: '设备进入应用访问的所有页面，例如设备从页面1进入应用，跳转到页面2，1,2均为受访页',\r\n\tformatter: ''\r\n}, {\r\n\ttitle: '访问次数',\r\n\tfield: 'visit_times',\r\n\ttooltip: '访问该页面的总次数',\r\n\tvalue: 0\r\n\r\n}, {\r\n\ttitle: '占比',\r\n\tfield: 'rate',\r\n\tcomputed: 'visit_times/total_app_access',\r\n\ttooltip: '页面的访问次数占所有页面访问次数的比例',\r\n\tformatter: '%',\r\n}]\r\n\r\nconst entFieldsMap = [{\r\n\ttitle: '入口页',\r\n\tfield: 'path',\r\n\ttooltip: '设备进入应用访问的第一个页面，例如设备从页面1进入应用，跳转到页面2，1为入口页，而2不是',\r\n\tformatter: ''\r\n}, {\r\n\ttitle: '入口页次数',\r\n\tfield: 'entry_count',\r\n\ttooltip: '访问该入口页的总次数',\r\n\tvalue: 0\r\n}, {\r\n\ttitle: '占比',\r\n\tfield: 'rate',\r\n\tcomputed: 'entry_count/total_app_access',\r\n\ttooltip: '页面的入口页次数占所有页面访问次数的比例',\r\n\tformatter: '%'\r\n}]\r\n\r\nexport {\r\n\tfieldsMap,\r\n\tresFieldsMap,\r\n\tentFieldsMap\r\n}\r\n"],"names":[],"mappings":";AAoBK,MAAC,YAAY,CAAC;AAAA,EAClB,OAAO;AAAA,EACP,UAAU;AACX,GAAG;AAAA,EACF,OAAO;AAAA,EACP,OAAO;AAAA,EACP,SAAS;AAAA,EACT,OAAO;AAAA,EACP,UAAU;AACX,GAAG;AAAA,EACF,OAAO;AAAA,EACP,OAAO;AAAA,EACP,SAAS;AAAA,EACT,OAAO;AAAA,EACP,UAAU;AACX,GAAG;AAAA,EACF,OAAO;AAAA,EACP,OAAO;AAAA,EACP,SAAS;AAAA,EACT,OAAO;AAAA,EACP,UAAU;AACX,GAAG;AAAA,EACF,OAAO;AAAA,EACP,OAAO;AAAA,EACP,SAAS;AAAA,EACT,OAAO;AAAA,EACP,UAAU;AACX,GAAG;AAAA,EACF,OAAO;AAAA,EACP,OAAO;AAAA,EACP,UAAU;AAAA,EACV,WAAW;AAAA,EACX,SAAS;AAAA,EACT,OAAO;AAAA,EACP,UAAU;AAAA;AAEX,GAAG;AAAA,EACF,OAAO;AAAA,EACP,OAAO;AAAA,EACP,UAAU;AAAA,EACV,WAAW;AAAA,EACX,SAAS;AAAA,EACT,OAAO;AAAA,EACP,UAAU;AAAA;AAEX,GAAG;AAAA,EACF,OAAO;AAAA,EACP,OAAO;AAAA,EACP,UAAU;AAAA,EACV,WAAW;AAAA,EACX,SAAS;AAAA,EACT,OAAO;AAAA,EACP,UAAU;AAAA,EACV,KAAK;AACN,GAAG;AAAA,EACF,OAAO;AAAA,EACP,OAAO;AAAA,EACP,SAAS;AAAA,EACT,OAAO;AAAA,EACP,UAAU;AACX,CAAC;AAEI,MAAC,eAAe,CAAC;AAAA,EACrB,OAAO;AAAA,EACP,OAAO;AAAA,EACP,SAAS;AAAA,EACT,WAAW;AACZ,GAAG;AAAA,EACF,OAAO;AAAA,EACP,OAAO;AAAA,EACP,SAAS;AAAA,EACT,OAAO;AAER,GAAG;AAAA,EACF,OAAO;AAAA,EACP,OAAO;AAAA,EACP,UAAU;AAAA,EACV,SAAS;AAAA,EACT,WAAW;AACZ,CAAC;AAEI,MAAC,eAAe,CAAC;AAAA,EACrB,OAAO;AAAA,EACP,OAAO;AAAA,EACP,SAAS;AAAA,EACT,WAAW;AACZ,GAAG;AAAA,EACF,OAAO;AAAA,EACP,OAAO;AAAA,EACP,SAAS;AAAA,EACT,OAAO;AACR,GAAG;AAAA,EACF,OAAO;AAAA,EACP,OAAO;AAAA,EACP,UAAU;AAAA,EACV,SAAS;AAAA,EACT,WAAW;AACZ,CAAC;;;;"}