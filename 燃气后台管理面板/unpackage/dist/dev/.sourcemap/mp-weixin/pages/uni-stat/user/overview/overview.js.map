{"version":3,"file":"overview.js","sources":["pages/uni-stat/user/overview/overview.vue","../../../../微信开发者工具/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXNcdW5pLXN0YXRcdXNlclxvdmVydmlld1xvdmVydmlldy52dWU"],"sourcesContent":["<template>\n\t<!-- 对应页面：注册用户统计-概况  -->\r\n\t<view class=\"fix-top-window\">\r\n\t\t<view class=\"uni-header\">\r\n\t\t\t<uni-stat-breadcrumb class=\"uni-stat-breadcrumb-on-phone\" />\r\n\t\t</view>\r\n\t\t<view class=\"uni-container\">\r\n\t\t\t<view class=\"uni-stat--x flex p-1015\">\n\t\t\t\t<view class=\"uni-stat--app-select\">\n\t\t\t\t\t<uni-data-select collection=\"opendb-app-list\" field=\"appid as value, name as text\" orderby=\"text asc\" :defItem=\"1\" label=\"应用选择\" v-model=\"query.appid\" :clear=\"false\" />\r\n\t\t\t\t\t<uni-data-select collection=\"opendb-app-versions\" :where=\"versionQuery\" class=\"ml-m\" field=\"_id as value, version as text, uni_platform as label, create_date as date\" format=\"{label} - {text}\" orderby=\"date desc\" label=\"版本选择\" v-model=\"query.version_id\" />\n\t\t\t\t</view>\r\n\t\t\t</view>\n\t\t\t<view class=\"uni-stat--x flex\">\n\t\t\t\t<uni-stat-tabs label=\"日期选择\" :current=\"currentDateTab\" mode=\"date\" :today=\"true\"\n\t\t\t\t\t@change=\"changeTimeRange\" />\n\t\t\t\t<uni-datetime-picker type=\"datetimerange\" :end=\"new Date().getTime()\" v-model=\"query.start_time\"\n\t\t\t\t\treturnType=\"timestamp\" :clearIcon=\"false\" class=\"uni-stat-datetime-picker\"\n\t\t\t\t\t:class=\"{'uni-stat__actived': currentDateTab < 0 && !!query.start_time.length}\"\n\t\t\t\t\t@change=\"useDatetimePicker\" />\n\t\t\t</view>\r\n\t\t\t<view class=\"uni-stat--x\">\r\n\t\t\t\t<uni-stat-tabs label=\"平台选择\" type=\"boldLine\" mode=\"platform\" v-model=\"query.platform_id\"\r\n\t\t\t\t\t@change=\"changePlatform\" />\n\t\t\t\t<uni-data-select ref=\"version-select\" v-if=\"query.platform_id && query.platform_id.indexOf('==') === -1\" collection=\"uni-stat-app-channels\" :where=\"channelQuery\" class=\"p-channel\" field=\"_id as value, channel_name as text\" orderby=\"text asc\" label=\"渠道/场景值选择\" v-model=\"query.channel_id\" />\r\n\t\t\t</view>\r\n\t\t\t<uni-stat-panel :items=\"panelData\" :contrast=\"true\" />\r\n\t\t\t<view class=\"uni-stat--x p-m\">\r\n\t\t\t\t<view class=\"uni-stat-card-header\">\r\n\t\t\t\t\t趋势图\r\n\t\t\t\t</view>\r\n\t\t\t\t<uni-stat-tabs type=\"box\" v-model=\"chartTab\" :tabs=\"chartTabs\" class=\"mb-l\" @change=\"changeChartTab\" />\r\n\t\t\t\t<view class=\"uni-charts-box\">\r\n\t\t\t\t\t<qiun-data-charts type=\"area\" :chartData=\"chartData\" :eopts=\"eopts\" echartsH5 echartsApp\r\n\t\t\t\t\t\ttooltipFormat=\"tooltipCustom\" :errorMessage=\"errorMessage\"/>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- #ifndef H5 -->\r\n\t\t<fix-window />\r\n\t\t<!-- #endif -->\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmapfields,\r\n\t\tstringifyQuery,\r\n\t\tstringifyField,\r\n\t\tstringifyGroupField,\r\n\t\tgetTimeOfSomeDayAgo,\r\n\t\tdivision,\r\n\t\tformat,\r\n\t\tformatDate,\r\n\t\tparseDateTime,\r\n\t\tgetFieldTotal,\r\n\t\tdebounce\r\n\t} from '@/js_sdk/uni-stat/util.js'\r\n\timport {\r\n\t\tfieldsMap,\r\n\t\tresFieldsMap,\r\n\t\tentFieldsMap\r\n\t} from './fieldsMap.js'\r\n\tconst panelOption = fieldsMap.filter(f => f.hasOwnProperty('value'))\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttableName: 'uni-stat-result',\r\n\t\t\t\tfieldsMap,\r\n\t\t\t\tresFieldsMap,\r\n\t\t\t\tentFieldsMap,\r\n\t\t\t\tquery: {\r\n\t\t\t\t\tdimension: 'hour',\r\n\t\t\t\t\tappid: '',\r\n\t\t\t\t\tplatform_id: '',\r\n\t\t\t\t\tuni_platform: '',\r\n\t\t\t\t\tversion_id: '',\r\n\t\t\t\t\tstart_time: [],\r\n\t\t\t\t},\r\n\t\t\t\toptions: {\r\n\t\t\t\t\tpageCurrent: 1, // 当前页\r\n\t\t\t\t\ttotal: 0, // 数据总量\r\n\t\t\t\t\tpageSizeIndex: 0, // 与 pageSizeRange 一起计算得出 pageSize\r\n\t\t\t\t\tpageSizeRange: [10, 20, 50, 100],\r\n\t\t\t\t},\r\n\t\t\t\tloading: false,\r\n\t\t\t\tcurrentDateTab: 2,\r\n\t\t\t\tchartTab: 'new_user_count',\r\n\t\t\t\ttableData: [],\r\n\t\t\t\tresTableData: [],\r\n\t\t\t\tentTableData: [],\r\n\t\t\t\tpanelData: panelOption,\r\n\t\t\t\tchartData: {},\r\n\t\t\t\teopts: {\r\n\t\t\t\t\tseriesTemplate: [{\r\n\t\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\t\tborderWidth: 2,\r\n\t\t\t\t\t\t\tborderColor: '#1890FF',\r\n\t\t\t\t\t\t\tcolor: '#1890FF'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tareaStyle: {\r\n\t\t\t\t\t\t\tcolor: {\r\n\t\t\t\t\t\t\t\tcolorStops: [{\r\n\t\t\t\t\t\t\t\t\toffset: 0,\r\n\t\t\t\t\t\t\t\t\tcolor: '#1890FF', // 0% 处的颜色\r\n\t\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t\toffset: 1,\r\n\t\t\t\t\t\t\t\t\tcolor: '#FFFFFF' // 100% 处的颜色\r\n\t\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\t// smooth: false,\r\n\t\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\t\tcolor: '#ea7ccc',\r\n\t\t\t\t\t\t\twidth: 2,\r\n\t\t\t\t\t\t\ttype: 'dashed'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\titemStyle: {\r\n\t\t\t\t\t\t\tborderWidth: 1,\r\n\t\t\t\t\t\t\tborderColor: '#ea7ccc',\r\n\t\t\t\t\t\t\tcolor: '#ea7ccc'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tareaStyle: null\r\n\t\t\t\t\t}]\r\n\t\t\t\t},\r\n\t\t\t\ttabIndex: 0,\n\t\t\t\terrorMessage: \"\",\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tconst {\r\n\t\t\t\tappid\r\n\t\t\t} = option\r\n\t\t\tif (appid) {\r\n\t\t\t\tthis.query.appid = appid\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tpageSize() {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tpageSizeRange,\r\n\t\t\t\t\tpageSizeIndex\r\n\t\t\t\t} = this.options\r\n\t\t\t\treturn pageSizeRange[pageSizeIndex]\r\n\t\t\t},\r\n\t\t\tchartTabs() {\r\n\t\t\t\tconst tabs = []\r\n\t\t\t\tfieldsMap.forEach(item => {\r\n\t\t\t\t\tconst _id = item.field\r\n\t\t\t\t\tconst name = item.title\r\n\t\t\t\t\tif (_id && name) {\r\n\t\t\t\t\t\ttabs.push({\r\n\t\t\t\t\t\t\t_id,\r\n\t\t\t\t\t\t\tname\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\treturn tabs\r\n\t\t\t},\r\n\t\t\tversionQuery() {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tappid,\r\n\t\t\t\t\tuni_platform\r\n\t\t\t\t} = this.query\r\n\t\t\t\tconst query = stringifyQuery({\r\n\t\t\t\t\tappid,\r\n\t\t\t\t\tuni_platform\r\n\t\t\t\t})\r\n\t\t\t\treturn query\r\n\t\t\t},\n\t\t\tchannelQuery() {\n\t\t\t\tconst {\n\t\t\t\t\tappid,\n\t\t\t\t\tplatform_id,\n\t\t\t\t} = this.query\n\t\t\t\tconst query = stringifyQuery({\n\t\t\t\t\tappid,\n\t\t\t\t\tplatform_id\n\t\t\t\t})\n\t\t\t\treturn query\n\t\t\t},\r\n\t\t},\r\n\t\tcreated() {\n\t\t\tthis.debounceGet = debounce(() => {\n\t\t\t\tthis.getAllData(this.query);\n\t\t\t}, 300);\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tquery: {\r\n\t\t\t\tdeep: true,\r\n\t\t\t\thandler(val) {\r\n\t\t\t\t\tthis.options.pageCurrent = 1 // 重置分页\r\n\t\t\t\t\tthis.debounceGet()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tuseDatetimePicker() {\r\n\t\t\t\tthis.currentDateTab = null\r\n\t\t\t},\r\n\t\t\tchangePlatform(id, index, name, item) {\r\n\t\t\t\tthis.query.version_id = 0\r\n\t\t\t\tthis.query.uni_platform = item.code\r\n\t\t\t},\r\n\t\t\tchangeTimeRange(id, index) {\r\n\t\t\t\tthis.currentDateTab = index\r\n\t\t\t\tconst day = 24 * 60 * 60 * 1000\r\n\t\t\t\tlet start, end\r\n\t\t\t\tstart = getTimeOfSomeDayAgo(id)\r\n\t\t\t\tif (!id) {\r\n\t\t\t\t\tend = getTimeOfSomeDayAgo(0) + day - 1\r\n\t\t\t\t} else {\r\n\t\t\t\t\tend = getTimeOfSomeDayAgo(0) - 1\r\n\t\t\t\t}\r\n\t\t\t\tthis.query.start_time = [start, end]\r\n\t\t\t},\r\n\t\t\tchangePageCurrent(e) {\r\n\t\t\t\tthis.options.pageCurrent = e.current\r\n\t\t\t\tthis.getChartData(this.query)\r\n\t\t\t},\r\n\r\n\t\t\tchangePageSize(e) {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tvalue\r\n\t\t\t\t} = e.detail\r\n\t\t\t\tthis.options.pageCurrent = 1 // 重置分页\r\n\t\t\t\tthis.options.pageSizeIndex = value\r\n\t\t\t\tthis.getChartData(this.query)\r\n\t\t\t},\r\n\r\n\t\t\tchangeChartTab(id, index, name) {\r\n\t\t\t\tthis.tabIndex = index\r\n\t\t\t\tthis.getChartData(this.query, id, name)\r\n\t\t\t},\r\n\t\t\tgetAllData(query) {\n\t\t\t\tif (!query.appid) {\n\t\t\t\t\tthis.errorMessage = \"请先选择应用\";\n\t\t\t\t\treturn; // 如果appid为空，则不进行查询\n\t\t\t\t}\n\t\t\t\tthis.errorMessage = \"\";\n\t\t\t\tthis.getPanelData()\r\n\t\t\t\tthis.getChartData(query)\r\n\t\t\t},\r\n\r\n\t\t\tgetDays() {\r\n\t\t\t\tif (!this.query.start_time.length) return true\r\n\t\t\t\tconst day = 24 * 60 * 60 * 1000\r\n\t\t\t\tconst [start, end] = this.query.start_time\r\n\t\t\t\tconst lessTwoDay = end - start >= day\r\n\t\t\t\treturn lessTwoDay\r\n\t\t\t},\r\n\r\n\t\t\tgetPanelData() {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tappid,\r\n\t\t\t\t\tplatform_id,\r\n\t\t\t\t\tversion_id\r\n\t\t\t\t} = this.query\r\n\t\t\t\tconst query = stringifyQuery({\r\n\t\t\t\t\tappid,\r\n\t\t\t\t\tplatform_id,\r\n\t\t\t\t\tversion_id,\r\n\t\t\t\t\tstart_time: [getTimeOfSomeDayAgo(1), new Date().getTime()]\r\n\t\t\t\t})\r\n\t\t\t\tconst db = uniCloud.database()\r\n\t\t\t\tconst subTable = db.collection(this.tableName)\r\n\t\t\t\t\t.where(query)\r\n\t\t\t\t\t.field(\r\n\t\t\t\t\t\t`${stringifyField(fieldsMap)},dimension,stat_date`\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.groupBy(`stat_date, dimension`)\r\n\t\t\t\t\t.groupField(stringifyGroupField(fieldsMap))\r\n\t\t\t\t\t.orderBy('stat_date', 'desc')\r\n\t\t\t\t\t.get()\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tconst data = res.result.data\r\n\t\t\t\t\t\tconst today = data.find(item => item.stat_date === parseDateTime(getTimeOfSomeDayAgo(0), '',\r\n\t\t\t\t\t\t\t'')) || {}\r\n\t\t\t\t\t\ttoday.total_users = 0\r\n\t\t\t\t\t\tconst yesterday = data.find(item => item.dimension === 'day' && item.stat_date ===\r\n\t\t\t\t\t\t\tparseDateTime(getTimeOfSomeDayAgo(1), '', ''))\r\n\t\t\t\t\t\tthis.panelData = []\r\n\t\t\t\t\t\tthis.panelData = mapfields(fieldsMap, today)\r\n\t\t\t\t\t\tthis.panelData.map(item => {\r\n\t\t\t\t\t\t\tmapfields(fieldsMap, yesterday, item, '', 'contrast')\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tgetFieldTotal.call(this, query, 'total_users')\r\n\t\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tgetChartData(query, field = this.chartTabs[this.tabIndex]._id, name = this.chartTabs[this.tabIndex].name) {\r\n\t\t\t\t// this.chartData = {}\r\n\t\t\t\tconst {\r\n\t\t\t\t\tpageCurrent\r\n\t\t\t\t} = this.options\r\n\t\t\t\tconst days = this.currentDateTab\r\n\t\t\t\tconst date = getTimeOfSomeDayAgo(days)\r\n\t\t\t\tconst day = 24 * 60 * 60 * 1000\r\n\t\t\t\tlet start_time\n\t\t\t\t// 范围小于一天的日期（今日、昨日）做增大一天处理，目的是对比当前日期和前一天（今日和昨日、昨日和上前日）\r\n\t\t\t\tif (!this.getDays()) {\r\n\t\t\t\t\tconst start = date - day\r\n\t\t\t\t\tconst end = date + day - 1\r\n\t\t\t\t\tquery = JSON.parse(JSON.stringify(query))\r\n\t\t\t\t\tstart_time = query.start_time = [start, end]\r\n\t\t\t\t}\r\n\t\t\t\tquery = stringifyQuery(query, true, ['uni_platform'])\r\n\t\t\t\tconst db = uniCloud.database()\r\n\t\t\t\tdb.collection(this.tableName)\r\n\t\t\t\t\t.where(query)\r\n\t\t\t\t\t.field(`${stringifyField(fieldsMap, field)}, start_time`)\r\n\t\t\t\t\t.groupBy(`start_time`)\r\n\t\t\t\t\t.groupField(stringifyGroupField(fieldsMap, field))\r\n\t\t\t\t\t.orderBy('start_time', 'asc')\r\n\t\t\t\t\t.get({\r\n\t\t\t\t\t\tgetCount: true\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tconst {\r\n\t\t\t\t\t\t\tcount,\r\n\t\t\t\t\t\t\tdata\r\n\t\t\t\t\t\t} = res.result\r\n\t\t\t\t\t\tconst options = {\r\n\t\t\t\t\t\t\tcategories: [],\r\n\t\t\t\t\t\t\tseries: [{\r\n\t\t\t\t\t\t\t\tname,\r\n\t\t\t\t\t\t\t\tdata: []\r\n\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlet mapper = fieldsMap.filter(f => f.field === field)\r\n\t\t\t\t\t\tmapper = JSON.parse(JSON.stringify(mapper))\r\n\t\t\t\t\t\tdelete mapper[0].value\r\n\t\t\t\t\t\tmapper[0].formatter = ''\r\n\t\t\t\t\t\tif (!this.getDays()) {\r\n\t\t\t\t\t\t\tconst [start, end] = start_time\r\n\t\t\t\t\t\t\tconst line = options.series[1] = {\r\n\t\t\t\t\t\t\t\tname: formatDate(start),\r\n\t\t\t\t\t\t\t\tdata: [],\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tconst cont = options.series[0] = {\r\n\t\t\t\t\t\t\t\tname: formatDate(end),\r\n\t\t\t\t\t\t\t\tdata: [],\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tfor (let i = 0; i < 24; ++i) {\r\n\t\t\t\t\t\t\t\tconst hour = i < 10 ? '0' + i : i\r\n\t\t\t\t\t\t\t\tconst x = `${hour}:00 ~ ${hour}:59`\r\n\t\t\t\t\t\t\t\toptions.categories.push(x)\r\n\t\t\t\t\t\t\t\tline.data[i] = 0\r\n\t\t\t\t\t\t\t\tcont.data[i] = 0\r\n\t\t\t\t\t\t\t\tdata.forEach(item => {\r\n\t\t\t\t\t\t\t\t\tmapfields(mapper, item, item)\r\n\t\t\t\t\t\t\t\t\tlet val = Number(item[field])\r\n\t\t\t\t\t\t\t\t\tconst d = new Date(item.start_time)\r\n\t\t\t\t\t\t\t\t\tif (item.start_time < date) {\r\n\t\t\t\t\t\t\t\t\t\tif (d.getHours() === i) {\r\n\t\t\t\t\t\t\t\t\t\t\tline.data[i] = val\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tif (d.getHours() === i) {\r\n\t\t\t\t\t\t\t\t\t\t\tcont.data[i] = val\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tfor (const item of data) {\r\n\t\t\t\t\t\t\t\tmapfields(mapper, item, item)\r\n\t\t\t\t\t\t\t\tconst x = formatDate(item.start_time, 'day')\r\n\t\t\t\t\t\t\t\tlet y = Number(item[field])\r\n\t\t\t\t\t\t\t\toptions.series[0].data.push(y)\r\n\t\t\t\t\t\t\t\toptions.categories.push(x)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.chartData = options\r\n\t\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\t\tconsole.error(err)\r\n\t\t\t\t\t\t// err.message 错误信息\r\n\t\t\t\t\t\t// err.code 错误码\r\n\t\t\t\t\t}).finally(() => {})\r\n\t\t\t},\r\n\r\n\t\t\tgetAppAccessTimes(query) {\r\n\t\t\t\tconst db = uniCloud.database()\r\n\t\t\t\treturn db.collection(this.tableName)\r\n\t\t\t\t\t.where(query)\r\n\t\t\t\t\t.groupBy('appid')\r\n\t\t\t\t\t.groupField(`sum(page_visit_count) as total_app_access`)\r\n\t\t\t\t\t.get()\r\n\t\t\t},\r\n\r\n\t\t\tnavTo(url) {\r\n\t\t\t\tif (!url) return\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.uni-stat-card-header {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tcolor: #555;\r\n\t\tfont-size: 14px;\r\n\t\tfont-weight: 600;\r\n\t\tpadding: 10px 0;\r\n\t\tmargin-bottom: 15px;\r\n\t}\r\n\r\n\t.uni-stat-card-header-link {\r\n\t\tcursor: pointer;\r\n\t}\n\r\n</style>\n","import MiniProgramPage from 'E:/testProjects/WeChatProjects/testProject-2/燃气后台管理面板/pages/uni-stat/user/overview/overview.vue'\nwx.createPage(MiniProgramPage)"],"names":["fieldsMap","resFieldsMap","entFieldsMap","stringifyQuery","debounce","getTimeOfSomeDayAgo","uniCloud","stringifyField","stringifyGroupField","parseDateTime","mapfields","getFieldTotal","formatDate","uni"],"mappings":";;;;AAgEC,MAAM,cAAcA,sCAAS,UAAC,OAAO,OAAK,EAAE,eAAe,OAAO,CAAC;AACnE,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,WAAW;AAAA,MACX,WAAAA,sCAAS;AAAA,oBACTC,sCAAY;AAAA,oBACZC,sCAAY;AAAA,MACZ,OAAO;AAAA,QACN,WAAW;AAAA,QACX,OAAO;AAAA,QACP,aAAa;AAAA,QACb,cAAc;AAAA,QACd,YAAY;AAAA,QACZ,YAAY,CAAE;AAAA,MACd;AAAA,MACD,SAAS;AAAA,QACR,aAAa;AAAA;AAAA,QACb,OAAO;AAAA;AAAA,QACP,eAAe;AAAA;AAAA,QACf,eAAe,CAAC,IAAI,IAAI,IAAI,GAAG;AAAA,MAC/B;AAAA,MACD,SAAS;AAAA,MACT,gBAAgB;AAAA,MAChB,UAAU;AAAA,MACV,WAAW,CAAE;AAAA,MACb,cAAc,CAAE;AAAA,MAChB,cAAc,CAAE;AAAA,MAChB,WAAW;AAAA,MACX,WAAW,CAAE;AAAA,MACb,OAAO;AAAA,QACN,gBAAgB,CAAC;AAAA,UAChB,WAAW;AAAA,YACV,aAAa;AAAA,YACb,aAAa;AAAA,YACb,OAAO;AAAA,UACP;AAAA,UACD,WAAW;AAAA,YACV,OAAO;AAAA,cACN,YAAY,CAAC;AAAA,gBACZ,QAAQ;AAAA,gBACR,OAAO;AAAA;AAAA,cACR,GAAG;AAAA,gBACF,QAAQ;AAAA,gBACR,OAAO;AAAA;AAAA,eACP;AAAA,YACF;AAAA,UACD;AAAA,QACD,GAAG;AAAA;AAAA,UAEF,WAAW;AAAA,YACV,OAAO;AAAA,YACP,OAAO;AAAA,YACP,MAAM;AAAA,UACN;AAAA,UACD,WAAW;AAAA,YACV,aAAa;AAAA,YACb,aAAa;AAAA,YACb,OAAO;AAAA,UACP;AAAA,UACD,WAAW;AAAA,SACX;AAAA,MACD;AAAA,MACD,UAAU;AAAA,MACV,cAAc;AAAA,IACf;AAAA,EACA;AAAA,EACD,OAAO,QAAQ;AACd,UAAM;AAAA,MACL;AAAA,IACD,IAAI;AACJ,QAAI,OAAO;AACV,WAAK,MAAM,QAAQ;AAAA,IACpB;AAAA,EACA;AAAA,EACD,UAAU;AAAA,IACT,WAAW;AACV,YAAM;AAAA,QACL;AAAA,QACA;AAAA,MACC,IAAE,KAAK;AACT,aAAO,cAAc,aAAa;AAAA,IAClC;AAAA,IACD,YAAY;AACX,YAAM,OAAO,CAAC;AACdF,4CAAS,UAAC,QAAQ,UAAQ;AACzB,cAAM,MAAM,KAAK;AACjB,cAAM,OAAO,KAAK;AAClB,YAAI,OAAO,MAAM;AAChB,eAAK,KAAK;AAAA,YACT;AAAA,YACA;AAAA,WACA;AAAA,QACF;AAAA,OACA;AACD,aAAO;AAAA,IACP;AAAA,IACD,eAAe;AACd,YAAM;AAAA,QACL;AAAA,QACA;AAAA,MACC,IAAE,KAAK;AACT,YAAM,QAAQG,oBAAAA,eAAe;AAAA,QAC5B;AAAA,QACA;AAAA,OACA;AACD,aAAO;AAAA,IACP;AAAA,IACD,eAAe;AACd,YAAM;AAAA,QACL;AAAA,QACA;AAAA,MACC,IAAE,KAAK;AACT,YAAM,QAAQA,oBAAAA,eAAe;AAAA,QAC5B;AAAA,QACA;AAAA,OACA;AACD,aAAO;AAAA,IACP;AAAA,EACD;AAAA,EACD,UAAU;AACT,SAAK,cAAcC,oBAAAA,SAAS,MAAM;AACjC,WAAK,WAAW,KAAK,KAAK;AAAA,IAC1B,GAAE,GAAG;AAAA,EACN;AAAA,EACD,OAAO;AAAA,IACN,OAAO;AAAA,MACN,MAAM;AAAA,MACN,QAAQ,KAAK;AACZ,aAAK,QAAQ,cAAc;AAC3B,aAAK,YAAY;AAAA,MAClB;AAAA,IACD;AAAA,EACA;AAAA,EACD,SAAS;AAAA,IACR,oBAAoB;AACnB,WAAK,iBAAiB;AAAA,IACtB;AAAA,IACD,eAAe,IAAI,OAAO,MAAM,MAAM;AACrC,WAAK,MAAM,aAAa;AACxB,WAAK,MAAM,eAAe,KAAK;AAAA,IAC/B;AAAA,IACD,gBAAgB,IAAI,OAAO;AAC1B,WAAK,iBAAiB;AACtB,YAAM,MAAM,KAAK,KAAK,KAAK;AAC3B,UAAI,OAAO;AACX,cAAQC,oBAAmB,oBAAC,EAAE;AAC9B,UAAI,CAAC,IAAI;AACR,cAAMA,oBAAmB,oBAAC,CAAC,IAAI,MAAM;AAAA,aAC/B;AACN,cAAMA,oBAAAA,oBAAoB,CAAC,IAAI;AAAA,MAChC;AACA,WAAK,MAAM,aAAa,CAAC,OAAO,GAAG;AAAA,IACnC;AAAA,IACD,kBAAkB,GAAG;AACpB,WAAK,QAAQ,cAAc,EAAE;AAC7B,WAAK,aAAa,KAAK,KAAK;AAAA,IAC5B;AAAA,IAED,eAAe,GAAG;AACjB,YAAM;AAAA,QACL;AAAA,MACD,IAAI,EAAE;AACN,WAAK,QAAQ,cAAc;AAC3B,WAAK,QAAQ,gBAAgB;AAC7B,WAAK,aAAa,KAAK,KAAK;AAAA,IAC5B;AAAA,IAED,eAAe,IAAI,OAAO,MAAM;AAC/B,WAAK,WAAW;AAChB,WAAK,aAAa,KAAK,OAAO,IAAI,IAAI;AAAA,IACtC;AAAA,IACD,WAAW,OAAO;AACjB,UAAI,CAAC,MAAM,OAAO;AACjB,aAAK,eAAe;AACpB;AAAA,MACD;AACA,WAAK,eAAe;AACpB,WAAK,aAAa;AAClB,WAAK,aAAa,KAAK;AAAA,IACvB;AAAA,IAED,UAAU;AACT,UAAI,CAAC,KAAK,MAAM,WAAW;AAAQ,eAAO;AAC1C,YAAM,MAAM,KAAK,KAAK,KAAK;AAC3B,YAAM,CAAC,OAAO,GAAG,IAAI,KAAK,MAAM;AAChC,YAAM,aAAa,MAAM,SAAS;AAClC,aAAO;AAAA,IACP;AAAA,IAED,eAAe;AACd,YAAM;AAAA,QACL;AAAA,QACA;AAAA,QACA;AAAA,MACC,IAAE,KAAK;AACT,YAAM,QAAQF,oBAAAA,eAAe;AAAA,QAC5B;AAAA,QACA;AAAA,QACA;AAAA,QACA,YAAY,CAACE,oBAAAA,oBAAoB,CAAC,IAAG,oBAAI,KAAI,GAAG,SAAS;AAAA,OACzD;AACD,YAAM,KAAKC,cAAQ,GAAC,SAAS;AACZ,SAAG,WAAW,KAAK,SAAS,EAC3C,MAAM,KAAK,EACX;AAAA,QACA,GAAGC,oBAAc,eAACP,+CAAS,CAAC;AAAA,MAC7B,EACC,QAAQ,sBAAsB,EAC9B,WAAWQ,oBAAAA,oBAAoBR,sCAAAA,SAAS,CAAC,EACzC,QAAQ,aAAa,MAAM,EAC3B,IAAI,EACJ,KAAK,SAAO;AACZ,cAAM,OAAO,IAAI,OAAO;AACxB,cAAM,QAAQ,KAAK,KAAK,UAAQ,KAAK,cAAcS;UAAcJ,oBAAAA,oBAAoB,CAAC;AAAA,UAAG;AAAA,UACxF;AAAA,QAAE,CAAC,KAAK,CAAC;AACV,cAAM,cAAc;AACpB,cAAM,YAAY,KAAK,KAAK,UAAQ,KAAK,cAAc,SAAS,KAAK,cACpEI,oBAAAA,cAAcJ,oBAAAA,oBAAoB,CAAC,GAAG,IAAI,EAAE,CAAC;AAC9C,aAAK,YAAY,CAAC;AAClB,aAAK,YAAYK,8BAAUV,sCAAAA,WAAW,KAAK;AAC3C,aAAK,UAAU,IAAI,UAAQ;AAC1BU,8BAAAA,UAAUV,sCAAAA,WAAW,WAAW,MAAM,IAAI,UAAU;AAAA,SACpD;AACDW,4BAAAA,cAAc,KAAK,MAAM,OAAO,aAAa;AAAA,OAC7C;AAAA,IACF;AAAA,IAED,aAAa,OAAO,QAAQ,KAAK,UAAU,KAAK,QAAQ,EAAE,KAAK,OAAO,KAAK,UAAU,KAAK,QAAQ,EAAE,MAAM;AAIrG,WAAK;AACT,YAAM,OAAO,KAAK;AAClB,YAAM,OAAON,oBAAmB,oBAAC,IAAI;AACrC,YAAM,MAAM,KAAK,KAAK,KAAK;AAC3B,UAAI;AAEJ,UAAI,CAAC,KAAK,WAAW;AACpB,cAAM,QAAQ,OAAO;AACrB,cAAM,MAAM,OAAO,MAAM;AACzB,gBAAQ,KAAK,MAAM,KAAK,UAAU,KAAK,CAAC;AACxC,qBAAa,MAAM,aAAa,CAAC,OAAO,GAAG;AAAA,MAC5C;AACA,cAAQF,oBAAAA,eAAe,OAAO,MAAM,CAAC,cAAc,CAAC;AACpD,YAAM,KAAKG,cAAQ,GAAC,SAAS;AAC7B,SAAG,WAAW,KAAK,SAAS,EAC1B,MAAM,KAAK,EACX,MAAM,GAAGC,oBAAc,eAACP,sCAAS,WAAE,KAAK,CAAC,cAAc,EACvD,QAAQ,YAAY,EACpB,WAAWQ,oBAAmB,oBAACR,iDAAW,KAAK,CAAC,EAChD,QAAQ,cAAc,KAAK,EAC3B,IAAI;AAAA,QACJ,UAAU;AAAA,OACV,EACA,KAAK,SAAO;AACZ,cAAM;AAAA,UACL;AAAA,UACA;AAAA,QACC,IAAE,IAAI;AACR,cAAM,UAAU;AAAA,UACf,YAAY,CAAE;AAAA,UACd,QAAQ,CAAC;AAAA,YACR;AAAA,YACA,MAAM,CAAC;AAAA,WACP;AAAA,QACF;AACA,YAAI,SAASA,sCAAAA,UAAU,OAAO,OAAK,EAAE,UAAU,KAAK;AACpD,iBAAS,KAAK,MAAM,KAAK,UAAU,MAAM,CAAC;AAC1C,eAAO,OAAO,CAAC,EAAE;AACjB,eAAO,CAAC,EAAE,YAAY;AACtB,YAAI,CAAC,KAAK,WAAW;AACpB,gBAAM,CAAC,OAAO,GAAG,IAAI;AACrB,gBAAM,OAAO,QAAQ,OAAO,CAAC,IAAI;AAAA,YAChC,MAAMY,oBAAU,WAAC,KAAK;AAAA,YACtB,MAAM,CAAE;AAAA,UACT;AACA,gBAAM,OAAO,QAAQ,OAAO,CAAC,IAAI;AAAA,YAChC,MAAMA,oBAAU,WAAC,GAAG;AAAA,YACpB,MAAM,CAAE;AAAA,UACT;AACA,mBAAS,IAAI,GAAG,IAAI,IAAI,EAAE,GAAG;AAC5B,kBAAM,OAAO,IAAI,KAAK,MAAM,IAAI;AAChC,kBAAM,IAAI,GAAG,IAAI,SAAS,IAAI;AAC9B,oBAAQ,WAAW,KAAK,CAAC;AACzB,iBAAK,KAAK,CAAC,IAAI;AACf,iBAAK,KAAK,CAAC,IAAI;AACf,iBAAK,QAAQ,UAAQ;AACpBF,4CAAU,QAAQ,MAAM,IAAI;AAC5B,kBAAI,MAAM,OAAO,KAAK,KAAK,CAAC;AAC5B,oBAAM,IAAI,IAAI,KAAK,KAAK,UAAU;AAClC,kBAAI,KAAK,aAAa,MAAM;AAC3B,oBAAI,EAAE,SAAS,MAAM,GAAG;AACvB,uBAAK,KAAK,CAAC,IAAI;AAAA,gBAChB;AAAA,qBACM;AACN,oBAAI,EAAE,SAAS,MAAM,GAAG;AACvB,uBAAK,KAAK,CAAC,IAAI;AAAA,gBAChB;AAAA,cACD;AAAA,aACA;AAAA,UACF;AAAA,eACM;AACN,qBAAW,QAAQ,MAAM;AACxBA,0CAAU,QAAQ,MAAM,IAAI;AAC5B,kBAAM,IAAIE,oBAAU,WAAC,KAAK,YAAY,KAAK;AAC3C,gBAAI,IAAI,OAAO,KAAK,KAAK,CAAC;AAC1B,oBAAQ,OAAO,CAAC,EAAE,KAAK,KAAK,CAAC;AAC7B,oBAAQ,WAAW,KAAK,CAAC;AAAA,UAC1B;AAAA,QACD;AACA,aAAK,YAAY;AAAA,MAClB,CAAC,EAAE,MAAM,CAAC,QAAQ;AACjBC,sBAAAA,yEAAc,GAAG;AAAA,MAGlB,CAAC,EAAE,QAAQ,MAAM;AAAA,OAAE;AAAA,IACpB;AAAA,IAED,kBAAkB,OAAO;AACxB,YAAM,KAAKP,cAAQ,GAAC,SAAS;AAC7B,aAAO,GAAG,WAAW,KAAK,SAAS,EACjC,MAAM,KAAK,EACX,QAAQ,OAAO,EACf,WAAW,2CAA2C,EACtD,IAAI;AAAA,IACN;AAAA,IAED,MAAM,KAAK;AACV,UAAI,CAAC;AAAK;AACVO,oBAAAA,MAAI,WAAW;AAAA,QACd;AAAA,OACA;AAAA,IACF;AAAA,EACD;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/YD,GAAG,WAAW,eAAe;"}