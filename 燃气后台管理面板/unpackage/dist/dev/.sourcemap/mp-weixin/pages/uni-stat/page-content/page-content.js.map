{"version":3,"file":"page-content.js","sources":["pages/uni-stat/page-content/page-content.vue","../../../../微信开发者工具/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXNcdW5pLXN0YXRccGFnZS1jb250ZW50XHBhZ2UtY29udGVudC52dWU"],"sourcesContent":["<template>\r\n\t<!-- 对应页面： 内容统计 -->\r\n\t<view class=\"fix-top-window\">\r\n\t\t<view class=\"uni-header\">\r\n\t\t\t<uni-stat-breadcrumb class=\"uni-stat-breadcrumb-on-phone\" />\r\n\t\t\t<view class=\"uni-group\">\r\n\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"uni-container\">\r\n\t\t\t<view class=\"uni-stat--x flex p-1015\">\r\n\t\t\t\t<view class=\"uni-stat--app-select\">\r\n\t\t\t\t\t<uni-data-select collection=\"opendb-app-list\" field=\"appid as value, name as text\" orderby=\"text asc\" :defItem=\"1\" label=\"应用选择\" v-model=\"query.appid\" :clear=\"false\" />\r\n\t\t\t\t\t<uni-data-select collection=\"opendb-app-versions\" :where=\"versionQuery\" class=\"ml-m\" field=\"_id as value, version as text, uni_platform as label, create_date as date\" format=\"{label} - {text}\" orderby=\"date desc\" label=\"版本选择\" v-model=\"query.version_id\" />\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"uni-stat--x flex\">\r\n\t\t\t\t<uni-stat-tabs label=\"日期选择\" :current=\"currentDateTab\" mode=\"date\" @change=\"changeTimeRange\" />\r\n\t\t\t\t<uni-datetime-picker type=\"datetimerange\" :end=\"new Date().getTime()\" v-model=\"query.start_time\"\r\n\t\t\t\t\treturnType=\"timestamp\" :clearIcon=\"false\" class=\"uni-stat-datetime-picker\"\r\n\t\t\t\t\t:class=\"{'uni-stat__actived': currentDateTab < 0 && !!query.start_time.length}\"\r\n\t\t\t\t\t@change=\"useDatetimePicker\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"uni-stat--x\">\r\n\t\t\t\t<uni-stat-tabs label=\"平台选择\" type=\"boldLine\" mode=\"platform\" v-model=\"query.platform_id\" @change=\"changePlatform\" />\r\n\t\t\t\t<uni-data-select ref=\"version-select\" v-if=\"query.platform_id && query.platform_id.indexOf('==') === -1\" collection=\"uni-stat-app-channels\" :where=\"channelQuery\" class=\"p-channel\" field=\"_id as value, channel_name as text\" orderby=\"text asc\" label=\"渠道/场景值选择\" v-model=\"query.channel_id\" />\r\n\t\t\t</view>\r\n\t\t\t<uni-stat-panel :items=\"panelData\" />\r\n\t\t\t<view class=\"uni-stat--x p-m\">\r\n\t\t\t\t<view class=\"uni-stat-right-btn\">\r\n\t\t\t\t\t<button type=\"primary\" size=\"mini\" @click=\"pageTo('/pages/uni-stat/page-rule/page-rule')\">页面规则</button>\r\n\t\t\t\t</view>\r\n\t\t\t\t<uni-table :loading=\"loading\" border stripe :emptyText=\"errorMessage || $t('common.empty')\">\r\n\t\t\t\t\t<uni-tr>\r\n\t\t\t\t\t\t<block v-for=\"(mapper, index) in fieldsMap\" :key=\"index\">\r\n\t\t\t\t\t\t\t<uni-th v-if=\"mapper.title\" :key=\"index\" align=\"center\">\r\n\t\t\t\t\t\t\t\t<!-- #ifdef MP -->\r\n\t\t\t\t\t\t\t\t{{mapper.title}}\r\n\t\t\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t\t\t\t<!-- #ifndef MP -->\r\n\t\t\t\t\t\t\t\t<uni-tooltip>\r\n\t\t\t\t\t\t\t\t\t{{mapper.title}}\r\n\t\t\t\t\t\t\t\t\t<uni-icons v-if=\"index === 0 && mapper.tooltip\" type=\"help\" color=\"#666\" />\r\n\t\t\t\t\t\t\t\t\t<template v-if=\"index === 0 && mapper.tooltip\" v-slot:content>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"uni-stat-tooltip-s\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{mapper.tooltip}}\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t</uni-tooltip>\r\n\t\t\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t\t\t</uni-th>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t</uni-tr>\r\n\t\t\t\t\t<uni-tr v-for=\"(item ,i) in tableData\" :key=\"i\">\r\n\t\t\t\t\t\t<block v-for=\"(mapper, index) in fieldsMap\" :key=\"index\">\r\n\t\t\t\t\t\t\t<uni-td v-if=\"index === 1\" :key=\"mapper.field\" class=\"uni-stat-edit--x\">\r\n\t\t\t\t\t\t\t\t{{item[mapper.field] !== undefined ? item[mapper.field] : '-'}}\r\n\t\t\t\t\t\t\t\t<uni-icons type=\"compose\" color=\"#2979ff\" size=\"25\" class=\"uni-stat-edit--btn\"\r\n\t\t\t\t\t\t\t\t\t@click=\"inputDialogToggle(item.page_link, item.page_title)\" />\r\n\t\t\t\t\t\t\t</uni-td>\r\n\t\t\t\t\t\t\t<uni-td v-else :key=\"mapper.field\" :align=\"index === 0 ? 'left' : 'center'\">\r\n\t\t\t\t\t\t\t\t{{item[mapper.field] !== undefined ? item[mapper.field] : '-'}}\r\n\t\t\t\t\t\t\t</uni-td>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t</uni-tr>\r\n\t\t\t\t</uni-table>\r\n\t\t\t\t<view class=\"uni-pagination-box\">\r\n\t\t\t\t\t<uni-pagination show-icon show-page-size :page-size=\"options.pageSize\"\r\n\t\t\t\t\t\t:current=\"options.pageCurrent\" :total=\"options.total\" @change=\"changePageCurrent\"\r\n\t\t\t\t\t\t@pageSizeChange=\"changePageSize\" />\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<uni-popup ref=\"inputDialog\" type=\"dialog\" :maskClick=\"true\">\r\n\t\t\t<uni-popup-dialog ref=\"inputClose\" mode=\"input\" title=\"请编辑名称\" v-model=\"updateValue\" placeholder=\"请输入内容\"\r\n\t\t\t\t@confirm=\"editName\"></uni-popup-dialog>\r\n\t\t</uni-popup>\r\n\r\n\t\t<!-- #ifndef H5 -->\r\n\t\t<fix-window />\r\n\t\t<!-- #endif -->\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmapfields,\r\n\t\tstringifyQuery,\r\n\t\tstringifyField,\r\n\t\tstringifyGroupField,\r\n\t\tgetTimeOfSomeDayAgo,\r\n\t\tdivision,\r\n\t\tformat,\r\n\t\tdebounce\r\n\t} from '@/js_sdk/uni-stat/util.js'\r\n\timport fieldsMap from './fieldsMap.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tfieldsMap,\r\n\t\t\t\tquery: {\r\n\t\t\t\t\tdimension: \"day\",\r\n\t\t\t\t\tappid: '',\r\n\t\t\t\t\tplatform_id: '',\r\n\t\t\t\t\tuni_platform: '',\r\n\t\t\t\t\tversion_id: '',\r\n\t\t\t\t\tchannel_id: '',\r\n\t\t\t\t\tstart_time: [],\r\n\t\t\t\t},\r\n\t\t\t\toptions: {\r\n\t\t\t\t\tpageSize: 20,\r\n\t\t\t\t\tpageCurrent: 1, // 当前页\r\n\t\t\t\t\ttotal: 0, // 数据总量\r\n\t\t\t\t},\r\n\t\t\t\tloading: false,\r\n\t\t\t\tcurrentDateTab: 1,\r\n\t\t\t\ttableData: [],\r\n\t\t\t\tpanelData: fieldsMap.filter(f => f.hasOwnProperty('value')),\r\n\t\t\t\tqueryId: '',\r\n\t\t\t\tupdateValue: '',\r\n\t\t\t\tchannelData: [],\r\n\t\t\t\terrorMessage: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tchannelQuery() {\r\n\t\t\t\tconst platform_id = this.query.platform_id\r\n\t\t\t\treturn stringifyQuery({\r\n\t\t\t\t\tplatform_id\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tversionQuery() {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tappid,\r\n\t\t\t\t\tuni_platform\r\n\t\t\t\t} = this.query\r\n\t\t\t\tconst query = stringifyQuery({\r\n\t\t\t\t\tappid,\r\n\t\t\t\t\tuni_platform\r\n\t\t\t\t})\r\n\t\t\t\treturn query\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.debounceGet = debounce(() => this.getAllData())\r\n\t\t\tthis.getChannelData()\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tquery: {\r\n\t\t\t\tdeep: true,\r\n\t\t\t\thandler(val) {\r\n\t\t\t\t\tthis.options.pageCurrent = 1 // 重置分页\r\n\t\t\t\t\tthis.debounceGet()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tpageTo(url){\r\n\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\turl\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tuseDatetimePicker() {\r\n\t\t\t\tthis.currentDateTab = -1\r\n\t\t\t},\r\n\t\t\tchangeAppid(id) {\r\n\t\t\t\tthis.getChannelData(id, false)\r\n\t\t\t},\r\n\t\t\tchangePlatform(id, index, name, item) {\r\n\t\t\t\tthis.getChannelData(null, id)\r\n\t\t\t\tthis.query.version_id = 0\r\n\t\t\t\tthis.query.uni_platform = item.code\r\n\t\t\t},\r\n\t\t\tchangeTimeRange(id, index) {\r\n\t\t\t\tthis.currentDateTab = index\r\n\t\t\t\tconst start = getTimeOfSomeDayAgo(id),\r\n\t\t\t\t\tend = getTimeOfSomeDayAgo(0) - 1\r\n\t\t\t\tthis.query.start_time = [start, end]\r\n\t\t\t},\r\n\t\t\tchangePageCurrent(e) {\r\n\t\t\t\tthis.options.pageCurrent = e.current\r\n\t\t\t\tthis.getTableData(this.query)\r\n\t\t\t},\r\n\r\n\t\t\tchangePageSize(pageSize) {\r\n\t\t\t\tthis.options.pageSize = pageSize\r\n\t\t\t\tthis.options.pageCurrent = 1 // 重置分页\r\n\t\t\t\tthis.getTableData()\r\n\t\t\t},\r\n\r\n\t\t\tgetAllData() {\r\n\t\t\t\tthis.getPanelData()\r\n\t\t\t\tthis.getTableData()\r\n\t\t\t},\r\n\r\n\t\t\tgetTableData(query) {\r\n\t\t\t\tif (!this.query.appid){\r\n\t\t\t\t\tthis.errorMessage = \"请先选择应用\";\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.errorMessage = \"\";\r\n\t\t\t\tquery = stringifyQuery(this.query, null, ['uni_platform'])\r\n\t\t\t\tconst {\r\n\t\t\t\t\tpageCurrent\r\n\t\t\t\t} = this.options\r\n\t\t\t\tthis.loading = true\r\n\t\t\t\tconst db = uniCloud.database()\r\n\t\t\t\tconst filterAppid = stringifyQuery({\r\n\t\t\t\t\tappid: this.query.appid\r\n\t\t\t\t})\r\n\t\t\t\tconst mainTableTemp = db.collection('uni-stat-page-details')\r\n\t\t\t\t\t.where(filterAppid)\r\n\t\t\t\t\t.getTemp()\r\n\t\t\t\tconst subTableTemp = db.collection('uni-stat-page-detail-result')\r\n\t\t\t\t\t.where(query)\r\n\t\t\t\t\t.getTemp()\r\n\r\n\t\t\t\tdb.collection(subTableTemp, mainTableTemp)\r\n\t\t\t\t\t.field(\r\n\t\t\t\t\t\t`${stringifyField(fieldsMap)}, stat_date, page_detail_id`\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.groupBy(\"page_detail_id\")\r\n\t\t\t\t\t.groupField(stringifyGroupField(fieldsMap))\r\n\t\t\t\t\t.orderBy('visit_times desc')\r\n\t\t\t\t\t.skip((pageCurrent - 1) * this.options.pageSize)\r\n\t\t\t\t\t.limit(this.options.pageSize)\r\n\t\t\t\t\t.get({\r\n\t\t\t\t\t\tgetCount: true\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tconst {\r\n\t\t\t\t\t\t\tcount,\r\n\t\t\t\t\t\t\tdata\r\n\t\t\t\t\t\t} = res.result\r\n\t\t\t\t\t\tthis.options.total = count\r\n\t\t\t\t\t\tthis.tableData = []\r\n\t\t\t\t\t\tfor (const item of data) {\r\n\t\t\t\t\t\t\tconst lines = item.page_detail_id\r\n\t\t\t\t\t\t\tif (Array.isArray(lines)) {\r\n\t\t\t\t\t\t\t\tdelete(item.page_detail_id)\r\n\t\t\t\t\t\t\t\tconst line = lines[0]\r\n\t\t\t\t\t\t\t\tif (line && Object.keys(line).length) {\r\n\t\t\t\t\t\t\t\t\tfor (const key in line) {\r\n\t\t\t\t\t\t\t\t\t\tif (key !== '_id') {\r\n\t\t\t\t\t\t\t\t\t\t\titem[key] = line[key]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tmapfields(fieldsMap, item, item)\r\n\t\t\t\t\t\t\tthis.tableData.push(item)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\t\tconsole.error(err)\r\n\t\t\t\t\t\t// err.message 错误信息\r\n\t\t\t\t\t\t// err.code 错误码\r\n\t\t\t\t\t}).finally(() => {\r\n\t\t\t\t\t\tthis.loading = false\r\n\t\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tgetPanelData(query = stringifyQuery(this.query, null, ['uni_platform'])) {\r\n\t\t\t\tlet myFieldsMap = JSON.parse(JSON.stringify(fieldsMap));\r\n\t\t\t\t// 去除myFieldsMap中的visit_devices字段\r\n\t\t\t\tmyFieldsMap = myFieldsMap.filter(item => item.field !== 'visit_devices');\r\n\t\t\t\tconst db = uniCloud.database()\r\n\t\t\t\tconst subTable = db.collection('uni-stat-page-detail-result')\r\n\t\t\t\t\t.where(query)\r\n\t\t\t\t\t.field(stringifyField(myFieldsMap))\r\n\t\t\t\t\t.groupBy('appid')\r\n\t\t\t\t\t.groupField(stringifyGroupField(myFieldsMap))\r\n\t\t\t\t\t.orderBy('start_time desc')\r\n\t\t\t\t\t.get()\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tconst items = res.result.data[0]\r\n\t\t\t\t\t\tthis.panelData = []\r\n\t\t\t\t\t\tthis.panelData = mapfields(myFieldsMap, items)\r\n\t\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tinputDialogToggle(url, title) {\r\n\t\t\t\tthis.queryId = url\r\n\t\t\t\tthis.updateValue = title\r\n\t\t\t\tthis.$refs.inputDialog.open()\r\n\t\t\t},\r\n\t\t\t// 修改页面名称\r\n\t\t\teditName(value=\"\") {\r\n\t\t\t\t// 使用 clientDB 提交数据\r\n\t\t\t\tconst db = uniCloud.database()\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '请求中...'\r\n\t\t\t\t})\r\n\t\t\t\tdb.collection('uni-stat-page-details')\r\n\t\t\t\t\t.where({\r\n\t\t\t\t\t\tpage_link: this.queryId\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.update({\r\n\t\t\t\t\t\tpage_title: value.trim()\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tif (res.result.updated) {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '修改成功'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tthis.getTableData()\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '修改失败',\r\n\t\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\tcontent: err.message || '请求服务失败',\r\n\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}).finally(() => {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetChannelData(appid, platform_id) {\r\n\t\t\t\tthis.query.channel_id = ''\r\n\t\t\t\tconst db = uniCloud.database()\r\n\t\t\t\tconst condition = {}\r\n\t\t\t\t//对应应用\r\n\t\t\t\tappid = appid ? appid : this.query.appid\r\n\t\t\t\tif (appid) {\r\n\t\t\t\t\tcondition.appid = appid\r\n\t\t\t\t}\r\n\t\t\t\t//对应平台\r\n\t\t\t\tplatform_id = platform_id ? platform_id : this.query.platform_id\r\n\t\t\t\tif (platform_id) {\r\n\t\t\t\t\tcondition.platform_id = platform_id\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet platformTemp = db.collection('uni-stat-app-platforms')\r\n\t\t\t\t\t.field('_id, name')\r\n\t\t\t\t\t.getTemp()\r\n\r\n\t\t\t\tlet channelTemp = db.collection('uni-stat-app-channels')\r\n\t\t\t\t\t.where(condition)\r\n\t\t\t\t\t.field('_id, channel_name, create_time, platform_id')\r\n\t\t\t\t\t.getTemp()\r\n\r\n\t\t\t\tdb.collection(channelTemp, platformTemp)\r\n\t\t\t\t\t.orderBy('platform_id asc')\r\n\t\t\t\t\t.get()\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tlet data = res.result.data\r\n\t\t\t\t\t\tlet channels = []\r\n\t\t\t\t\t\tif (data.length > 0) {\r\n\t\t\t\t\t\t\tlet channelName\r\n\t\t\t\t\t\t\tfor (let i in data) {\r\n\t\t\t\t\t\t\t\tchannelName = data[i].channel_name ? data[i].channel_name : '默认'\r\n\t\t\t\t\t\t\t\tif (data[i].platform_id.length > 0) {\r\n\t\t\t\t\t\t\t\t\tchannelName = data[i].platform_id[0].name + '-' + channelName\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tchannels.push({\r\n\t\t\t\t\t\t\t\t\tvalue: data[i]._id,\r\n\t\t\t\t\t\t\t\t\ttext: channelName\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.channelData = channels\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tconsole.error(err)\r\n\t\t\t\t\t\t// err.message 错误信息\r\n\t\t\t\t\t\t// err.code 错误码\r\n\t\t\t\t\t}).finally(() => {})\r\n\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.uni-stat-edit--x {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.uni-stat-edit--btn {\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t.uni-stat-right-btn{\r\n\t\ttext-align: right;margin-bottom: 10px;\r\n\t}\r\n</style>\r\n","import MiniProgramPage from 'E:/testProjects/WeChatProjects/testProject-2/燃气后台管理面板/pages/uni-stat/page-content/page-content.vue'\nwx.createPage(MiniProgramPage)"],"names":["fieldsMap","stringifyQuery","debounce","uni","getTimeOfSomeDayAgo","uniCloud","stringifyField","stringifyGroupField","mapfields"],"mappings":"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"}