{"version":3,"file":"user.js","sources":["store/modules/user.js"],"sourcesContent":["import * as uniIdPagesStore from '@/uni_modules/uni-id-pages/common/store'\r\nexport default {\r\n    namespaced: true,\r\n    state: {},\r\n    mutations: {},\r\n    actions: {\r\n\t\tgetUserInfo ({commit}) {\r\n\t\t\tconst db = uniCloud.database()\r\n\t\t\treturn db\r\n\t\t\t\t.collection('uni-id-users')\r\n\t\t\t\t.where('_id==$cloudEnv_uid')\r\n\t\t\t\t.field('username,nickname,mobile,email,role,permission')\r\n\t\t\t\t.get()\r\n\t\t\t\t.then(({result}) => {\r\n\t\t\t\t\tconst [userInfo] = result.data\r\n\r\n\t\t\t\t\tuniIdPagesStore.mutations.setUserInfo(userInfo, true)\r\n\r\n\t\t\t\t\treturn Promise.resolve(userInfo)\r\n\t\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n"],"names":["uniCloud","uniIdPagesStore.mutations"],"mappings":";;;AACA,MAAe,OAAA;AAAA,EACX,YAAY;AAAA,EACZ,OAAO,CAAE;AAAA,EACT,WAAW,CAAE;AAAA,EACb,SAAS;AAAA,IACX,YAAa,EAAC,OAAM,GAAG;AACtB,YAAM,KAAKA,cAAQ,GAAC,SAAU;AAC9B,aAAO,GACL,WAAW,cAAc,EACzB,MAAM,oBAAoB,EAC1B,MAAM,gDAAgD,EACtD,IAAK,EACL,KAAK,CAAC,EAAC,OAAM,MAAM;AACnB,cAAM,CAAC,QAAQ,IAAI,OAAO;AAE1BC,sDAA0B,YAAY,UAAU,IAAI;AAEpD,eAAO,QAAQ,QAAQ,QAAQ;AAAA,MACpC,CAAK;AAAA,IACF;AAAA,EACD;AACF;;"}